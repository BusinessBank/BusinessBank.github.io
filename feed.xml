<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>http://blog.all-in.xyz</link>
    <atom:link href="http://blog.all-in.xyz/feed.xml" rel="self" type="application/rss+xml" />
    <description></description>
    <language>en-us</language>
    <pubDate>Wed, 19 Dec 2018 02:55:16 +0900</pubDate>
    <lastBuildDate>Wed, 19 Dec 2018 02:55:16 +0900</lastBuildDate>

    
    
    <item>
      <title>会社から走って家に帰るということ</title>
      <link>http://blog.all-in.xyz/2018/12/18/going-home-with-running</link>
      <pubDate>Tue, 18 Dec 2018 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2018/12/18/going-home-with-running</guid>
      <description>&lt;style type=&quot;text/css&quot;&gt;
&lt;!--
.iframe_wrapper{
    position:relative;
    width:100%;
    height:0;
    padding-top:75%;
    overflow:auto;
    -webkit-overflow-scrolling:touch;
    display: inline-block;    
}
.iframe_wrapper iframe{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    border:none;
    display:block;
}
--&gt; 
&lt;/style&gt;

&lt;script async src=&quot;https://cdn.embedly.com/widgets/platform.js&quot; charset=&quot;UTF-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;この記事は、&lt;a href=&quot;https://qiita.com/advent-calendar/2018/bbg_developers&quot;&gt;Business Bank Group Developers Advent Calendar&lt;/a&gt; 18日目の記事です。&lt;/p&gt;

&lt;p&gt;こんにちは。&lt;br&gt;
脳ミソの半分が筋肉とランの事で構成されているエンジニアの平形（ &lt;a href=&quot;https://twitter.com/bigplants&quot;&gt;@bigplants&lt;/a&gt; ）です。&lt;/p&gt;

&lt;p&gt;現在、私は会社からの帰宅をランニングに変えるという試みを行っています。&lt;/p&gt;

&lt;p&gt;今日は帰宅ランを実践してみた感想などについて書きたいと思います。&lt;/p&gt;

&lt;p&gt;会社のTechブログで何書いてるんだ！と言われそうですが、通勤のイノベーションに発展する案件という事で許していただきたいです。&lt;/p&gt;

&lt;p&gt;いつの日か、テクノロジーの力で通勤を健康的でより楽しいものに変えていければいいなと思っています。&lt;/p&gt;

&lt;p&gt;この記事がエンジニアやランナーの目に留まり、ビジネスバンクグループ には面白い奴がいるんだなー。と思っていただければ幸いです。&lt;/p&gt;

&lt;p&gt;更にランニング好きの人がエンジニアの採用にエントリーしてくれたら万々歳です^^&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-12-18-going-home-with-running/DSC_0056.JPG&quot; alt=&quot;これから走って帰るぞ！の絵&quot;&gt;&lt;/p&gt;

&lt;p&gt;通勤ランについてはこちらのPodcastに出演した時にも少し話しています。&lt;/p&gt;

&lt;p&gt;時間あったら聴いてみてください。&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;ja&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;出演したPodcastのアフターショーです。&lt;br&gt;これ系の話もっとしたい。&lt;a href=&quot;https://twitter.com/hashtag/wakateossan?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#wakateossan&lt;/a&gt; &lt;a href=&quot;https://t.co/80m7CbXxDz&quot;&gt;https://t.co/80m7CbXxDz&lt;/a&gt;&lt;/p&gt;&amp;mdash; Daiki Hirakata (@bigplants) &lt;a href=&quot;https://twitter.com/bigplants/status/1074120993411452929?ref_src=twsrc%5Etfw&quot;&gt;2018年12月16日&lt;/a&gt;&lt;/blockquote&gt;

&lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;hr&gt;

&lt;h1&gt;なぜやろうと思ったのか？&lt;/h1&gt;

&lt;p&gt;元々、ダイエットの一環として2018年の4月頃からランニングを始めました。&lt;/p&gt;

&lt;p&gt;当初80kg近くあった体重も65kgくらいに落ち着いています。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-12-18-going-home-with-running/IMG_2339.png&quot; alt=&quot;fitbitの記録&quot;&gt;&lt;/p&gt;

&lt;p&gt;そのうち、走る事自体の楽しみを覚えました。&lt;/p&gt;

&lt;p&gt;ランニングによるメリットは数え切れないのですが語り出すとそれだけで記事が書けるのでこの記事では割愛します。&lt;/p&gt;

&lt;p&gt;ランニングを習慣化すべくその為の時間を捻出していました。&lt;/p&gt;

&lt;p&gt;週に最低三回は走ると決めていました。&lt;/p&gt;

&lt;p&gt;しかし、子供がなかなか寝なかったり、冬に寒くて起きれなかったりで時間を作るのが難しくなってきました。&lt;/p&gt;

&lt;p&gt;そこで閃いたわけです。&lt;/p&gt;

&lt;p&gt;そうか！&lt;/p&gt;

&lt;p&gt;通勤をランに変えればいいのか！&lt;/p&gt;

&lt;p&gt;最初はかなり躊躇していました。&lt;/p&gt;

&lt;p&gt;荷物を背負って走れるのか？と。&lt;/p&gt;

&lt;p&gt;しかし、自分の体幹や筋持久力もある程度備わってきたので、前から興味あった通勤ランを実践してみる事にしました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;なぜ帰宅なのか&lt;/h1&gt;

&lt;p&gt;いまは帰宅時のみランニングにしています。&lt;/p&gt;

&lt;p&gt;出勤時は着替えやシャワーなどがネックなので、いまはやっていません。&lt;/p&gt;

&lt;p&gt;一方、帰宅時は汗をかいても家に帰ってすぐにシャワーを浴びる事ができるのでリーズナブルです。&lt;/p&gt;

&lt;p&gt;ということでまずは帰宅をランニングにしてみました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;スペック&lt;/h1&gt;

&lt;p&gt;実際、自分はどのくらい走れる人なのか？&lt;/p&gt;

&lt;h2&gt;普段の自分のランニング&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;距離: 10km&lt;/li&gt;
&lt;li&gt;ペース: 5:20/km&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;ja&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;今日の朝ラン。&lt;br&gt;タイム気にしないで走ってみた。&lt;br&gt;走りながらもっと早く走れるはずと思った。&lt;br&gt;結果は悪くなかった！&lt;br&gt;&lt;br&gt;コンフォートゾーンから外れるという事が少しわかった気がする。&lt;br&gt;&lt;br&gt;今の自分を否定するということ。 &lt;a href=&quot;https://t.co/u6nZEZWZdP&quot;&gt;https://t.co/u6nZEZWZdP&lt;/a&gt; &lt;a href=&quot;https://t.co/qyBHbkBWL0&quot;&gt;pic.twitter.com/qyBHbkBWL0&lt;/a&gt;&lt;/p&gt;&amp;mdash; Daiki Hirakata (@bigplants) &lt;a href=&quot;https://twitter.com/bigplants/status/1073746896898801664?ref_src=twsrc%5Etfw&quot;&gt;2018年12月15日&lt;/a&gt;&lt;/blockquote&gt;

&lt;h2&gt;帰宅ラン&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;会社から自宅までの距離(外苑前&amp;lt;-&amp;gt;練馬): 11km&lt;/li&gt;
&lt;li&gt;荷物の重さ: &lt;strong&gt;約8kg(重い！)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ペース: 6:00/km&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;ja&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;帰宅で会社から家まで走った。荷物が重かったー。完全に罰ゲームw&lt;br&gt;7.7kgもあった。軽量化考えよう。&lt;a href=&quot;https://twitter.com/hashtag/%E5%B8%B0%E5%AE%85%E3%83%A9%E3%83%B3?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#帰宅ラン&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/%E3%83%A9%E3%83%B3%E3%83%8B%E3%83%B3%E3%82%B0?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#ランニング&lt;/a&gt; &lt;br&gt;Check out my run on Strava.&lt;a href=&quot;https://t.co/c0DzTGXBNN&quot;&gt;https://t.co/c0DzTGXBNN&lt;/a&gt; &lt;a href=&quot;https://t.co/XiLKaZudOJ&quot;&gt;pic.twitter.com/XiLKaZudOJ&lt;/a&gt;&lt;/p&gt;&amp;mdash; Daiki Hirakata (@bigplants) &lt;a href=&quot;https://twitter.com/bigplants/status/1070293284499537920?ref_src=twsrc%5Etfw&quot;&gt;2018年12月5日&lt;/a&gt;&lt;/blockquote&gt;

&lt;blockquote class=&quot;embedly-card&quot; data-card-controls=&quot;0&quot; data-card-key=&quot;f1631a41cb254ca5b035dc5747a5bd75&quot;&gt;&lt;h4&gt;&lt;a href=&quot;https://www.relive.cc/view/2009809997?r=embed-site&quot;&gt;Relive &#39;Afternoon Run&#39;&lt;/a&gt;&lt;/h4&gt;&lt;/blockquote&gt;

&lt;hr&gt;

&lt;h1&gt;立ちはだかるハードル&lt;/h1&gt;

&lt;p&gt;始める前からハードルは高そうだなと思ってましたが走り始めて気付いたこともあります。&lt;/p&gt;

&lt;h2&gt;荷物の重さ&lt;/h2&gt;

&lt;p&gt;通勤ランの記事はいくつか読みましたが、8kgの荷物を背負って走っている人は見た事がありませんでした。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-12-18-going-home-with-running/IMG_2337.jpeg&quot; alt=&quot;普段の荷物&quot;&gt;&lt;/p&gt;

&lt;p&gt;自分のバッグはランニング用途ではないので走る事に最適化されていません。&lt;/p&gt;

&lt;p&gt;走れば上下左右に動いてズッシリと響きます。&lt;/p&gt;

&lt;p&gt;そもそも、ランニング用のバッグでこんなに大容量のものはほとんどありません。&lt;/p&gt;

&lt;p&gt;なぜそんなに荷物が重いのか？&lt;/p&gt;

&lt;p&gt;はい。誰もが抱く疑問ですよね。&lt;/p&gt;

&lt;p&gt;ではここで自分の荷物を紹介します。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Macbook 13inch&lt;/li&gt;
&lt;li&gt;iPad 11inch&lt;/li&gt;
&lt;li&gt;着替え&lt;/li&gt;
&lt;li&gt;靴&lt;/li&gt;
&lt;li&gt;傘&lt;/li&gt;
&lt;li&gt;タンブラー&lt;/li&gt;
&lt;li&gt;腹筋ローラー&lt;/li&gt;
&lt;li&gt;その他の雑貨&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;自分は平均的に週二日(火曜、木曜)は自宅でリモートワークをしています。&lt;/p&gt;

&lt;p&gt;仕事で使っているPCは自宅でも兼用しているので普段持ち運んでいます。&lt;/p&gt;

&lt;p&gt;iPadは通勤時の読書用で外せません。仕事中もセカンドモニターとして重宝しています。&lt;/p&gt;

&lt;p&gt;着替えに関しても、最近の通勤ランのTipsを読むと、着替えを会社に置いておくなどの工夫が見られます。&lt;/p&gt;

&lt;p&gt;しかし、自分の場合は二日連続で出勤する機会がないので着替えを会社に置いておく事ができません。&lt;/p&gt;

&lt;p&gt;腹筋ローラーは業務に気合いを入れる為に必要です。(これに対するツッコミは受け付けません。)&lt;/p&gt;

&lt;p&gt;しかし、もう少し軽量化したい。。&lt;/p&gt;

&lt;h2&gt;帰宅時間&lt;/h2&gt;

&lt;p&gt;電車だとdoor2doorで50分で帰れます。&lt;/p&gt;

&lt;p&gt;走って帰るとなると、11kmをいいところ1時間くらいかかります。&lt;/p&gt;

&lt;p&gt;着替え、ウォーミングアップの時間に加え信号待ちの時間がかかります。&lt;/p&gt;

&lt;p&gt;なんだかんだ諸々入れると、準備から家に着くまでにかかる時間は1.5時間くらいになります。&lt;/p&gt;

&lt;p&gt;いつもより遅く帰ると家族から「遅い！」と言われるので、なんとかこの時間を短縮する事が命題です。&lt;/p&gt;

&lt;p&gt;無理してでも少しでも早く走ろうと頑張ります。&lt;/p&gt;

&lt;p&gt;ある意味、良いコーチですね(汗)&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;継続する為のコツ&lt;/h1&gt;

&lt;h2&gt;走り続ける為にフォームを意識する&lt;/h2&gt;

&lt;p&gt;ポイントは何と言っても荷物の重さ。&lt;/p&gt;

&lt;p&gt;8kgの荷物を背負って走り続けるには、綺麗なフォームを維持する事がとても重要になってきます。&lt;/p&gt;

&lt;p&gt;走っている時に膝にかかる負担は荷物が無くても非常に大きいので、荷物を持ったらよりシビアになります。&lt;/p&gt;

&lt;p&gt;膝への負担はフォームで決まります。&lt;/p&gt;

&lt;p&gt;荷物を持っていると重心がだんだん疲れて後ろのほうに寄っていきます。&lt;/p&gt;

&lt;p&gt;そうすると、足を地面から離す時にブレーキがかかってしまいますし、接地時間が長くなる為、膝への負担が大きくなります。&lt;/p&gt;

&lt;p&gt;荷物を持っていても綺麗なフォームを維持するには体幹が非常に重要になってきます。&lt;/p&gt;

&lt;p&gt;最近は体幹を意識して筋トレを行うようにしています。&lt;/p&gt;

&lt;h2&gt;途中で電車に切り替えてもヨシ&lt;/h2&gt;

&lt;p&gt;帰宅ランのコツとしては、帰りの電車の路線上の道路を走るという事です。&lt;/p&gt;

&lt;p&gt;途中で辛くなってきたら電車に切り替えられるようにしておくのです。&lt;/p&gt;

&lt;p&gt;無理は禁物です。自分のできる範囲でチャレンジしていきます。&lt;/p&gt;

&lt;p&gt;最初は、筋肉の使い方がいつもと違うので足が痛くなって途中で電車に逃げ込みました。&lt;/p&gt;

&lt;p&gt;今では慣れて家まで完走できるようになりました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;やってよかった事&lt;/h1&gt;

&lt;h2&gt;トレーニング時間が確保できる&lt;/h2&gt;

&lt;p&gt;着替えやランニングシューズを持って出かけると、すでに気合いスイッチが朝から入っています。絶対に今日も走って帰るぞ！という強い意志で走れます。&lt;/p&gt;

&lt;p&gt;夜遅い時間や朝早い時間に別の事に時間を使えるようになりました。&lt;/p&gt;

&lt;h2&gt;体幹を意識できる&lt;/h2&gt;

&lt;p&gt;普段の走りより体幹を意識しないとそもそも荷物を背負って走り続けられないので自然と体幹が鍛えられます。&lt;/p&gt;

&lt;p&gt;それにより、荷物を持っていない状態で走る時も足の疲労を軽くする走り方を実現できます。&lt;/p&gt;

&lt;p&gt;荷物の重さによりますが、8kgの荷物を背負って走り続けるにはかなりの体幹が必要です。&lt;/p&gt;

&lt;h2&gt;コースを探すのが楽しい&lt;/h2&gt;

&lt;p&gt;商店街を通るのもよし。大通りを通るのもよし。住宅街を通るもよし。コースは無数に存在しています。&lt;/p&gt;

&lt;p&gt;少しずつ違う道を通って走る事で毎回、新しい発見があって楽しいです。&lt;/p&gt;

&lt;h2&gt;自分はどんな状況でもいつも通り帰れるという自信がつく&lt;/h2&gt;

&lt;p&gt;走って帰るということは交通機関に左右されません。電車が遅れる、道が混んでるという事を全くきにする必要がないのです。&lt;/p&gt;

&lt;p&gt;大震災がきても帰宅に悩む必要はありません！&lt;/p&gt;

&lt;h2&gt;経済的&lt;/h2&gt;

&lt;p&gt;交通費が半分で済みます。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;帰宅ランはおすすめなのか？&lt;/h1&gt;

&lt;p&gt;ここまでいい事ばかり書いてきましたが、、&lt;/p&gt;

&lt;p&gt;自分は通勤ランをすべてのランナーの人におすすめする事はできません。&lt;/p&gt;

&lt;p&gt;なぜなら、トレーニング効率が高いわけではないからです。&lt;/p&gt;

&lt;p&gt;何も荷物を持たないで走る事ができればそれに越した事はありません。&lt;/p&gt;

&lt;p&gt;荷物を持つとフォームが乱れやすいし、膝に負担がかかるので故障のリスクもあります。&lt;/p&gt;

&lt;p&gt;重い荷物を背負って5km走るより何もつけないで10km走る方がよっぽど効率が良いです。&lt;/p&gt;

&lt;p&gt;ただ、中級者、上級者のランナーの方は試してみてもいいかもしれません。&lt;/p&gt;

&lt;p&gt;荷物がある分、フォームが乱れるとすぐに足が重くなります。&lt;/p&gt;

&lt;p&gt;自分のフォームの乱れをすぐに体感できて、修正がしやすいからです。&lt;/p&gt;

&lt;p&gt;体幹に意識が向くので場合によっては弱点を克服できるかもしれません。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;今後のトライ&lt;/h1&gt;

&lt;p&gt;荷物を軽くする為に、iPadのみで仕事ができないかトライしてみようと思っています。&lt;/p&gt;

&lt;p&gt;自分の場合、iPadから踏み台サーバにログインすれば大体の事はできるので、荷物からPCを外して軽量化できると踏んでいます。&lt;/p&gt;

&lt;p&gt;最終的に自分はどこに向かうのか？と考える事があります。&lt;/p&gt;

&lt;p&gt;究極は走りながら仕事をする事なのかな？と思いましたwwww&lt;/p&gt;

&lt;p&gt;トレッドミルにPCの台をくっくけて走りながらキーボード叩くとかw&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;最後に&lt;/h1&gt;

&lt;p&gt;これからも帰宅ランを続けていくつもりです。&lt;/p&gt;

&lt;p&gt;自分の当面のライバルは電車です。&lt;/p&gt;

&lt;p&gt;電車を使った場合の帰宅時間(door2doorで50分)よりランで帰った時の時間が早くなったら自分の勝ちになります。&lt;/p&gt;

&lt;p&gt;わかりやすい目標です！&lt;/p&gt;

&lt;p&gt;が・ん・ば・る・ぞ！&lt;/p&gt;

&lt;p&gt;明日は、&lt;a href=&quot;https://qiita.com/Kirika&quot;&gt;@Kirika&lt;/a&gt; さんの担当です。お願いします！&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。(走る人でもそうでない人でも)&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>rrrspecを導入してCI実行時間を2.5時間から10分に短縮した話</title>
      <link>http://blog.all-in.xyz/2018/11/19/rrrspec</link>
      <pubDate>Mon, 19 Nov 2018 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2018/11/19/rrrspec</guid>
      <description>&lt;p&gt;こんにちは。&lt;br&gt;
エンジニアの平形（ &lt;a href=&quot;https://twitter.com/bigplants&quot;&gt;@bigplants&lt;/a&gt; ）です。&lt;br&gt;
最近、ランナー膝を克服して、走りたくてウズウズしている今日この頃です。&lt;br&gt;
今回は、私が弊社で最近導入したrrrspecのお話をします。  &lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;はじめに&lt;/h1&gt;

&lt;p&gt;弊社のプロダクトALL-INのrspecのCIを高速化すべくrrrspecを採用しました。&lt;br&gt;
技術的な詳細の内容に踏み込むと、このブログでは伝えきれないので概要だけを書きました。&lt;br&gt;
技術的な内容は近日中にQiita(&lt;a href=&quot;https://qiita.com/bigplants&quot;&gt;bigplants&lt;/a&gt;)で公開します。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;rrrspecとは？&lt;/h1&gt;

&lt;p&gt;Cookpad社が作ったrspecの分散テスト実行システムです。&lt;br&gt;
&lt;a href=&quot;https://github.com/cookpad/rrrspec&quot;&gt;rrrspec&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;rrrspecについては、こちらの記事で詳しく解説されています。&lt;br&gt;
&lt;a href=&quot;https://techlife.cookpad.com/entry/2014/03/24/rrrspec/&quot;&gt;分散テスト実行システムRRRSpecをリリースしました&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;まずは結果から&lt;/h1&gt;

&lt;p&gt;rspecのテスト完走を高速化する事が目的だったが、どのくらい早くなったのか？&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.5時間 -&amp;gt; 10分！！！(最短の場合)&lt;/strong&gt;  &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;15倍高速化！！&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;ドラゴンボールの界王拳かっ！&lt;/strong&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;今までなぜそんなに遅かったのか？&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;rspecのspecファイル数: 1400以上&lt;br&gt;&lt;/li&gt;
&lt;li&gt;rspecのexample数の合計: 30000以上&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;もともと、CircleCIの上で4コンテナでrspecを実行していました。&lt;br&gt;
4コンテナでもこの遅さです。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;CIが遅い事でどんな問題があったのか？&lt;/h1&gt;

&lt;p&gt;CIが2.5時間かかる状況を想像できるでしょうか？  &lt;/p&gt;

&lt;p&gt;以下のような問題が起こります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;テストの結果が返ってくるのが半日後とかになる(複数人のジョブが行列待ちになる)&lt;br&gt;&lt;/li&gt;
&lt;li&gt;待つのがしんどい&lt;br&gt;&lt;/li&gt;
&lt;li&gt;というか待っていられない&lt;br&gt;&lt;/li&gt;
&lt;li&gt;当日に結果を確認するのを諦める&lt;br&gt;&lt;/li&gt;
&lt;li&gt;翌日にCIの結果からバグを見つけ修正。そしてまた待つ&lt;/li&gt;
&lt;li&gt;結果、大変なボトルネックに&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;なので、重要なブランチのテストを優先すべく他のジョブをすべてキャンセルするような運用を強いられていました。&lt;br&gt;
日々、slackには&lt;/p&gt;

&lt;p&gt;「急ぎのテストがあるので、CircleCIのジョブを全部キャンセルさせてもらいます」&lt;/p&gt;

&lt;p&gt;というコメントが流れていました。&lt;/p&gt;

&lt;p&gt;この状況は何とかせねば！と思ったわけです。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;どうやってrrrspecのクラスタを構築したのか？&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;AWSのAuto Scaling Groupにworkerをspotインスタンスで構築&lt;/li&gt;
&lt;li&gt;masterのインスタンスタイプ: t2.small&lt;/li&gt;
&lt;li&gt;workerのインスタンスタイプ: c4.large&lt;/li&gt;
&lt;li&gt;workerの台数: 常時1台, rspec実行中は31台&lt;/li&gt;
&lt;li&gt;CIツール: CodeBuild(rrrspecを開始し結果を受け取る目的)&lt;/li&gt;
&lt;li&gt;GitHubのPull Requestからフック&lt;/li&gt;
&lt;li&gt;結果をslackで実行者にメンション付きで通知&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;躓いたポイント&lt;/h1&gt;

&lt;h2&gt;rrrspec-client startが遅い問題&lt;/h2&gt;

&lt;p&gt;当初、rrrspecをトリガする場所をCircleCIにしようとしていました。&lt;br&gt;
しかし、rrrspec-client start(rrrspecを開始するコマンド)が非常に遅い状況に直面しました。&lt;br&gt;
テストが開始されるまで10分以上待たされました。&lt;br&gt;
調査した結果、CircleCIのコンテナからrrrspecのmasterに対してRedisのアクセスがボトルネックになってる事が分かりました。&lt;br&gt;
rrrspecでは1specファイルを1taskとしています。このtask毎にredisのアクセスが複数回発生します。&lt;br&gt;
CircleCIのコンテナが動いている環境はプロダクトのリージョンとは別なので通信に大幅なレイテンシが発生します。&lt;br&gt;
それについてはどうにもならないので思い切ってCIを乗り換える事にしました。&lt;br&gt;
AWS CodeBuildを採用したのはそれが理由です。&lt;/p&gt;

&lt;h2&gt;テストがランダムでコケまくる&lt;/h2&gt;

&lt;p&gt;原因は、slaveの数でした。&lt;br&gt;
rrrspecではデフォルトでworkerのCPUコア数分のslaveを立ち上げてrspecを並列実行します。&lt;br&gt;
c4.largeは2コアなので2slaveのプロセスが起動します。&lt;br&gt;
しかし、接続先のMySQL, ElasticSearchはそれぞれ単一のDBしかないのでテストの途中でデータが期待したものと相違が生じます。&lt;br&gt;
並列化は今後の課題です。&lt;br&gt;
暫定的な対応として明示的にslaveを1つに設定しました。&lt;/p&gt;

&lt;h2&gt;Auto Scaling&lt;/h2&gt;

&lt;p&gt;rrrspecのworkerノードのワークロードは完全に上がりきる事はありません。1コアしか活用されないのでMaxでも50%前後です。&lt;br&gt;
そしてスケールアウトしてもCPU負荷が下がる事はありません。すべてのworkerでフルにrspecが走ります。&lt;br&gt;
なのでよくあるリニアにインスタンスが増減するオートスケールの計画は適用できません。&lt;br&gt;
少し特殊ですが、1台を常時起動させておき、CPU負荷が30%以上になったら30台起動させ、30%以下になったら30台落とすという風にAuto Scaling Groupでスケーリングポリシーを設定しています。&lt;br&gt;
スケーリングポリシーでは５分間隔でチェックするようにしています。  &lt;/p&gt;

&lt;p&gt;すべてのworkerノード(30台)が立ち上がって待ち受け状態になるのに最長10分かかります。&lt;br&gt;
なので実際にはworkerの起動が10分+rspec完了10分で合計20分ほどかかる場合があります。&lt;br&gt;
それでも元々2.5時間かかっていたので十分、高速化できています。&lt;br&gt;
コストかけて常時30台起動するようにすれば短縮できますが、今はそこまで必要に迫られていないので暫くはこのまま運用していきます。  &lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;コストは増えたのか？&lt;/h1&gt;

&lt;p&gt;CircleCIでは4コンテナで$150/monthかかっていました。&lt;br&gt;
今回、刷新した結果、CircleCIはrspecの為に使う事はなくなったので$0/monthになりました。&lt;br&gt;
※ CircleCIは別用途で2コンテナ利用していますがすべてCodeBuildに乗り換える予定です。&lt;br&gt;
※ CodeBuildはオンデマンドに利用した時間だけ課金さえるので場合によってはかなり安くなります。  &lt;/p&gt;

&lt;p&gt;かかる費用は、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;CodeBuild: $40/month&lt;/li&gt;
&lt;li&gt;EC2 Spotインスタンス: $100/month&lt;/li&gt;
&lt;li&gt;rrrspec masterノード: $20/month&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;合計: $160/month&lt;/p&gt;

&lt;p&gt;なのでほとんど増減はありませんでした。&lt;br&gt;
Spotインスタンス万歳！&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;結果どうなったのか？&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;各開発者がすぐにテストの結果を確認できるので生産効率が非常に高くなった。&lt;/li&gt;
&lt;li&gt;他の人のテストの状況はほとんど気にする必要がなくなった。&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;h1&gt;まとめ&lt;/h1&gt;

&lt;p&gt;rspecを高速化するツールは他にもありますが、specファイルが大量にある場合は高速化するツールとしてrrrspecは有力な一つの選択肢かと思います。&lt;br&gt;
今回、高速化できた上にコストも抑えられたので万々歳でした。&lt;br&gt;
現在のrspecのCI環境が遅いと感じたら思い切ってCI基盤ごと乗り換えるという選択もアリかと思います。&lt;/p&gt;

&lt;p&gt;息をするようにCIを回していきたい。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>GKEによる無限ステージング基盤の構築</title>
      <link>http://blog.all-in.xyz/2018/08/24/k8s-unlimited-staging</link>
      <pubDate>Fri, 24 Aug 2018 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2018/08/24/k8s-unlimited-staging</guid>
      <description>&lt;p&gt;こんにちは。&lt;br&gt;
エンジニアの平形（ &lt;a href=&quot;https://twitter.com/bigplants&quot;&gt;@bigplants&lt;/a&gt; ）です。&lt;br&gt;
最近の趣味はランニング、筋トレです。&lt;br&gt;
三ヶ月で15kgほど絞りました。&lt;br&gt;
今は細マッチョを目指してボディを磨いております^^  &lt;/p&gt;

&lt;p&gt;今日は、私が弊社で最近構築した無限ステージング基盤のお話をします。  &lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;はじめに&lt;/h1&gt;

&lt;p&gt;今回、弊社ではステージング環境を刷新する為にGCPのGoogle Kubernetes Engineを利用する事にしました。&lt;br&gt;
技術的な詳細の内容に踏み込むと、このブログでは伝えきれないので概要だけを書きました。&lt;br&gt;
技術的な内容は近日中にQiita(&lt;a href=&quot;https://qiita.com/bigplants&quot;&gt;bigplants&lt;/a&gt;)で公開します。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;Kubernetesとは？&lt;/h1&gt;

&lt;p&gt;Kubernetesはコンテナ化したアプリケーションのデプロイ、スケーリング、および管理を行うための、オープンソースのコンテナオーケストレーションのツールです。  &lt;/p&gt;

&lt;p&gt;Kubernetesについては、こちらの記事で詳しく解説されています。&lt;br&gt;
&lt;a href=&quot;https://qiita.com/MahoTakara/items/85096f8b2632c802ab22&quot;&gt;今さら人に聞けない Kubernetes とは？&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;無限ステージング？？&lt;/h1&gt;

&lt;p&gt;無限に新たにステージング環境を構築できる事を勝手に「無限ステージング」と呼んでいます。&lt;br&gt;
「無限」というところがミソです。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;無限ステージング基盤の要件&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;無限にステージング環境が作れる&lt;/li&gt;
&lt;li&gt;ユニークなURLを払い出す&lt;/li&gt;
&lt;li&gt;コンテナ、データは完全に各環境毎に隔離されている&lt;/li&gt;
&lt;li&gt;SSL対応&lt;/li&gt;
&lt;li&gt;コマンド１発「ッターン！」で素早く環境作成が完了する&lt;/li&gt;
&lt;li&gt;Gitの特定のブランチをデプロイできる&lt;/li&gt;
&lt;li&gt;なるべく金銭的コストは抑えたい&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらの要件を満たすのにKubernetesが最適と判断しました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;そもそも何の為に必要だったの？&lt;/h1&gt;

&lt;p&gt;弊社では以下のような課題がありました。&lt;br&gt;
それを解決する新しい仕組みが必要でした。&lt;/p&gt;

&lt;h2&gt;デプロイ待ち問題&lt;/h2&gt;

&lt;p&gt;元々、AWSにステージング環境は用意してありました。&lt;br&gt;
しかし、チケット単位でQAを行う必要があるので、QA完了するまでデプロイを待たないといけない局面がありました。&lt;br&gt;
これは中々に大きいボトルネックとなっていました。&lt;/p&gt;

&lt;h2&gt;チケット差し戻し問題&lt;/h2&gt;

&lt;p&gt;QAから差し戻されたチケットが場合によっては予定していたリリースに乗らない事も珍しくありません。&lt;br&gt;
そんな時にどういう対応をしてるかというと、すでにマージされたブランチをリバートする事になります。&lt;br&gt;
リバートするマージが直近のものならそこまで問題になる事はありませんが、過去のリビジョンだった場合、その依存を解決するのは容易ではありません。&lt;br&gt;
とても骨が折れる苦痛が伴います。。&lt;/p&gt;

&lt;h2&gt;テストデータの問題&lt;/h2&gt;

&lt;p&gt;ステージング環境のDBはRDSを利用しておりました。&lt;br&gt;
テストデータはテスト完了後に綺麗にする必要が出てくる場合があります。&lt;br&gt;
あとDBマイグレーションを伴う更新の場合はマイグレーション前の状態からテストするケースもあります。&lt;br&gt;
こんな時に実施する事は、RDSのスナップショットを作成しておき、そこからDBをリストアします。&lt;br&gt;
しかしこの方法は時間と手間とお金がかかります。  &lt;/p&gt;

&lt;h2&gt;ステージング環境の金銭的コスト&lt;/h2&gt;

&lt;p&gt;弊社では、AWSの以下のサービスのリソースを利用しています。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;EC2 (各種サービスホスティング台数分)&lt;/li&gt;
&lt;li&gt;ELB&lt;/li&gt;
&lt;li&gt;RDS&lt;/li&gt;
&lt;li&gt;ElastiCache&lt;/li&gt;
&lt;li&gt;Elasticsearch Service&lt;/li&gt;
&lt;li&gt;S3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;1環境を用意するだけでも結構コストがかかります。&lt;br&gt;
なので複数セット用意するのは現実的ではありませんでした。&lt;br&gt;
それにマイクロサービスが複数あるので、デプロイも個別に実行する事になり、大変です。&lt;/p&gt;

&lt;p&gt;こういった諸々の課題をGKEで解決しました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;利用したツール等&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Google Kubernetes Engine&lt;/li&gt;
&lt;li&gt;Google Cloud DNS&lt;/li&gt;
&lt;li&gt;Google Cloud Storage&lt;/li&gt;
&lt;li&gt;Google Cloud Build&lt;/li&gt;
&lt;li&gt;Helm&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;h1&gt;どうやって実現したのか？&lt;/h1&gt;

&lt;h2&gt;GKEにKubernetesクラスタを構築&lt;/h2&gt;

&lt;p&gt;Kubernetes(以降k8s)のオートスケールでNode(クラスタを構成するインスタンス)がスケールするようにした。&lt;br&gt;
この機能はk8sが標準で備えているものなので閾値の設定だけしました。&lt;br&gt;
これで実質、「無限」という事になります。&lt;/p&gt;

&lt;h2&gt;Google Cloud Buildでdockerイメージを継続ビルド&lt;/h2&gt;

&lt;p&gt;Google Cloud BuildがGitHubのpushを検知しdockerイメージのビルドをするようにしました。&lt;br&gt;
ここは他のCIツールでも置き換え可能です。CircleCIは弊社では以前から利用していたので、これを利用する事もできましたが、ビルド時間がかかる為、採用しませんでした。&lt;br&gt;
GKEならGoogle Cloud Buildを利用するのが金額面でも導入コストの面でもリーズナブルです。&lt;br&gt;
あと、何より同じGCP上なのでイメージの転送速度が速いです。これはコンテナのオーケストレーション的なメリットが高いです。  &lt;/p&gt;

&lt;h2&gt;Google Cloud DNSにAWS Route53から管理移譲&lt;/h2&gt;

&lt;p&gt;先ほども書きましたが、弊社は以前からAWSを利用していました。&lt;br&gt;
今回GCPをステージング環境に採用し、ドメインをどう管理するか？が課題でした。&lt;br&gt;
私たちは、Route53で新しいステージング基盤の為のサブドメインを発行し、それの管理をGCPのCloudDNSに移譲する方法を採用しました。&lt;br&gt;
そのサブドメインのグローバルのレコードを作成しています。&lt;/p&gt;

&lt;h2&gt;Helmを使って隔離された環境を作成&lt;/h2&gt;

&lt;p&gt;k8sで複数環境を同じクラスタ内に構築するのにどうしても外せない概念はk8sのnamespaceです。&lt;br&gt;
k8sは基本的にnamespaceを跨いで内部のリソースにアクセスする事はできません。&lt;br&gt;
これを利用してリソースを隔離しました。&lt;br&gt;
namespaceを分けて同じk8sのマニフェストを適用するだけならk8sだけで解決できます。&lt;br&gt;
しかし、我々のシステムの要件では以下のような対応が必要になりました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ingressにユニークな複数ドメインの設定を行う&lt;/li&gt;
&lt;li&gt;データセットのファイル名の指定&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;それを手で実施するのはとても骨が折れる作業です。。&lt;br&gt;
そんな時に使えるのが&lt;a href=&quot;https://helm.sh/&quot;&gt;Helm&lt;/a&gt;です。&lt;br&gt;
Helmはk8sのパッケージマネージャです。nodeでいうnpmといったところです。&lt;br&gt;
Helmのパッケージは色々公開されており、自分で書かなくてもパッケージを取り込んでコンテナを起動するといった事が可能になります。  &lt;/p&gt;

&lt;p&gt;Helmはk8sのマニフェストファイルをテンプレート化し、変数で値を書き換える事ができます。&lt;br&gt;
その特性を活かし環境丸ごとHelmで管理する事にしました。&lt;br&gt;
実際、Helmではテンプレートの機能しか使っておらず導入はとても簡単でした。&lt;br&gt;
手元にあるk8sのマニフェストファイルで特定の箇所だけ変数化していきました。  &lt;/p&gt;

&lt;h2&gt;Gitのブランチ or CommitSHAを指定してデプロイできるようにした&lt;/h2&gt;

&lt;p&gt;dockerイメージのビルド時にタグにGitのブランチとCommitSHAをつけるようにしました。&lt;br&gt;
これによりデプロイ時にタグを指定してコンテナを起動する事ができるようになります。&lt;br&gt;
ブランチ名として有効な文字種だけどdockerのタグでは禁止されているものをうまく扱う為にちょっと苦労しました。&lt;br&gt;
その話は改めてQiitaに書きます。&lt;/p&gt;

&lt;h2&gt;特定のコンテナで一度しか実行しないものはデプロイ時のshellで実行するようにしたい&lt;/h2&gt;

&lt;p&gt;例えば、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Railsのdb:migrateその他&lt;/li&gt;
&lt;li&gt;Elasticsearchのインデックス作成&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;などの作業です。&lt;br&gt;
これらはコンテナが起動する時に毎回実行されては困るものです。&lt;br&gt;
k8sのリソースでこういったjobを実行する事もできるんですが制約が多いのでshellで実行するのが現実的と判断しました。&lt;br&gt;
デプロイ時にコンテナの起動を監視し、起動したら &lt;code&gt;kubectl exec&lt;/code&gt; で実行します。&lt;br&gt;
k8sは自分もまだまだ知らない事が多く、調べるのも時間がかかります。絶賛開発中なものに当たる事も少なくありません。&lt;br&gt;
なんだかんだk8sで頑張らなくても最後はshellでどうにでもなる。と考えると気が楽になります。&lt;br&gt;
あとはk8sのバージョンが上がっていけばk8sのみで解決できる日がそのうち来ると思うので、その時に移行してもいいかなと。&lt;/p&gt;

&lt;h2&gt;Google Cloud StorageでMySQLなどのデータセットを管理&lt;/h2&gt;

&lt;p&gt;ステージング環境はテストが目的なので用途に応じたデータセットを用意しておきたいものです。&lt;br&gt;
私が採ったアプローチは以下です。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Google Cloud Storage(以降GCS)にMySQLのダンプファイルとElasticsearchのスナップショットのデータを用意しておく&lt;/li&gt;
&lt;li&gt;k8sのInitContainerでコンテナ起動時にGCSからデータをダウンロード&lt;/li&gt;
&lt;li&gt;デプロイ時にコンテナにダウンロードされたデータファイルをインポート&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt;k8sのcert-managerを使って証明書を管理&lt;/h2&gt;

&lt;p&gt;※ 実際にはいい感じにできませんでした。。  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jetstack/cert-manager&quot;&gt;cert-manager&lt;/a&gt;というhelmパッケージを使って証明書の管理をしようとしました。&lt;br&gt;
cert-managerはLet&amp;#39;s encryptを使って自動的に無料で証明書の発行、更新を行うものです。&lt;br&gt;
最初はうまくいったんですが、すぐに問題にぶち当たりました。&lt;br&gt;
最初は各環境毎にcert-managerでワイルドカード証明書を発行するようにしました。&lt;br&gt;
ここでLet&amp;#39;s encryptの証明書発行のRate Limitに引っかかってしまったんです。&lt;br&gt;
これは一定期間内の証明書発行数の制限です。&lt;br&gt;
各環境毎の各ドメイン個別に証明書発行しようとしましたが、これも上限にすぐに達しました。&lt;br&gt;
普通に考えればここで出る疑問は、「ワイルドカード証明書だから１つだけ発行して使いまわせないの？」という事だと思います。&lt;br&gt;
しかし、k8sはnamespaceを跨いでリソースを共有できないのです。&lt;br&gt;
それがある以上、無限ステージング基盤に適用できないと判断しました。&lt;br&gt;
一旦、ここに関しては発行できたワイルドカード証明書をSecretとして別途、別ファイルで管理して各環境で使いまわしています。&lt;br&gt;
これも更新する必要があるので面倒ですが。。&lt;br&gt;
cert-managerの今後のアップデートに期待しています。  &lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;構築した結果どうなったのか？&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;デプロイ時に他のメンバーの事を気にしないで気軽にできるようになった。&lt;/li&gt;
&lt;li&gt;すぐに動作を試す事ができるようになった。&lt;/li&gt;
&lt;li&gt;素早く作って、いらなくなったらすぐに削除する事ができるようになった。&lt;/li&gt;
&lt;li&gt;ステージング環境の金銭的コストが5分の1くらいになった。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;結果、お釣りが出た上にデプロイ待ちやテスト待ちといったボトルネックが解消され、チケット消化率が上がりました！！&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;まとめ&lt;/h1&gt;

&lt;p&gt;昨今、k8sは物凄い勢いでアップデートされており、大変注目が集まっています。&lt;br&gt;
k8sのミートアップ(&lt;a href=&quot;https://k8sjp.connpass.com/&quot;&gt;Kubernetes Meetup Tokyo&lt;/a&gt;)は毎回、応募者の倍率が増えており、今では3,4倍くらいになっています。&lt;br&gt;
自分も過去に何度も落選しています。。^^A&lt;br&gt;
k8sはコンテナをリーズナブルにまとめる事ができ、その用途は利用ユーザによって多岐に渡っています。&lt;br&gt;
今回のステージング環境の用途以外にもGKEを使って今後以下のような事を検討しています。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ログ収集基盤&lt;/li&gt;
&lt;li&gt;CI基盤&lt;/li&gt;
&lt;li&gt;プロダクション環境のGKEへのリプレース&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;他にもやりたい事は沢山出てくるでしょう。&lt;br&gt;
ワクワクしますね^^&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>まつもとさん勉強会</title>
      <link>http://blog.all-in.xyz/2018/04/18/matz-meeting-01</link>
      <pubDate>Wed, 18 Apr 2018 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2018/04/18/matz-meeting-01</guid>
      <description>&lt;p&gt;こんにちは。
エンジニアのしみきょんこと、清水恭子です。&lt;/p&gt;

&lt;p&gt;今日は、弊社の技術顧問であるまつもとゆきひろさんとの勉強会の様子について話したいと思います。
定期的に行なっている勉強会ですが、今回はMatzさんに聞いてみたいことを事前に集めてQ&amp;amp;Aを実施しました！&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-04-18-matz-meeting-01/matz_mtg01.jpg&quot; alt=&quot;お願いいたします！&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;１日に平均何時間くらいコーディングしてますか？&lt;/h2&gt;

&lt;p&gt;Matz：　目標は「一日一度はコードを書く！」ですが、現状忙しくてなかなかできてないです、、
限られた時間になるので、いかに作業を効率よく進めるかを考えます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;15m ~ 60mくらいの作業だったら、とにかく邪魔が入らないようにする！
新規で物作りをする時（何から始めればいいかわからない時）は始めが肝心なので
とりあえずやればできる作業から初めてみて、作業しながら考えをまとめていき流れを作っていく。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;といったことを意識しています。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;面接などで優秀な開発者かどうかを見極める為にどんな事を質問をしていますか？&lt;/h2&gt;

&lt;p&gt;Matz：　何か課題をやってもらうというより、テクノロジーの雑談をして相手のレベルがどれくらいかをみています。&lt;/p&gt;

&lt;p&gt;「最近の技術に対してどう思うか、そしてどう勉強しているか、今までどんなことをしてきたか　etc..」
などの話を聞いて
「ポテンシャルがあるかどうか、自社の文化と相手の求めているものがマッチしているかどうか」　を重視してみています。&lt;/p&gt;

&lt;h3&gt;プログラマ初心者がスキルを向上していく上で重要視すべき点は何だと思いますか?&lt;/h3&gt;

&lt;p&gt;Matz：　自分の方向性を決めていけることが重要だと思います。興味のあるコア技術を絞れたら、そこから派生していく他の技術も勉強していけるのが理想です。&lt;/p&gt;

&lt;p&gt;軸を決める時には広範囲のもにして、技術の幅を持っていけるようにするといいですね。
普段の仕事に追われがちですが、自分の興味のあることに使える時間作りをしてみてください。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;プログラマにオススメのお菓子は何ですか？&lt;/h2&gt;

&lt;p&gt;Matz：　僕はナッツが好きです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2018-04-18-matz-meeting-01/matz_natz.jpg&quot; width=400px height=400px&gt;&lt;/p&gt;

&lt;p&gt;Matzのお気に入りNutzを教えてもらいました！^^&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;今一番関心のあるOSSのプロジェクトは何ですか？&lt;/h2&gt;

&lt;p&gt;Matz：　自分のプロダクトに一番興味を持って取り組んでいるのでRuby, mruby です。&lt;/p&gt;

&lt;p&gt;ただ、プログラミング言語のアイディアはよそからもらうことが多いのでRubyがまだ弱い「分散と動向」の部分に特化している、Elixir, Erlangにも興味があります。&lt;/p&gt;

&lt;p&gt;普段C言語を触れることが多いから、もう少しモダンな言語に触れたいときはRust, Goなどの動向もみています。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;現在パフォーマンス問題に直面していてどういったアプローチを取っていけばいいか悩んでいます。。&lt;/h2&gt;

&lt;p&gt;Matz：　どのくらいリアルタイム性が必要かによってアプローチを変えます。&lt;/p&gt;

&lt;p&gt;また、ページ固有の遅さなのか、データ量による遅さなのかどうかも考えます。&lt;/p&gt;

&lt;p&gt;パフォーマンス問題の解決をしようとした時、ググって見つけた小手先の方法を試しがちですが
きちんと現状のパフォーマンスを測定して、ボトルネックを見つけることが重要です。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;とにかくパフォーマンスを測定！
↓
ボトルネックとなる場所を見つける
↓
対処法を考える
　ロジックがボトルネックになっている場合、アルゴリズムとかデータ構造をかえることを重視していく
　DBがボトルネックになっている場合、indexの貼り方をかえてみる　etc...
↓
それでも改善しなかったら、、、、、ググってみる
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;といった流れで解決していくといいと思います。&lt;/p&gt;

&lt;p&gt;また、どれくらいの時間パフォーマンスを上げる必要があるのかを事前に決めておくといいですね。&lt;/p&gt;

&lt;h3&gt;パフォーマンス計測をするときはどうしてますか？&lt;/h3&gt;

&lt;p&gt;Matz：　私は、timeコマンドで計測することが多いです。とにかく「適切に測る」ことに注力しています。&lt;/p&gt;

&lt;p&gt;ユーザーが直接見えるサービスだとUXを重視して改善をしていくことが多いですが
プログラミング言語を開発する上では、使用できるメモリ内でできるだけ速くするにはどうするかといったことを意識しています。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;おわりに&lt;/h2&gt;

&lt;p&gt;他にもこんな質問がありましたが、時間切れとなってしまいました。。。&lt;/p&gt;

&lt;h4&gt;仕事をする時、静かなところ/騒がしいところ、のどちらが好きですか？&lt;/h4&gt;

&lt;h4&gt;Rubyでマイクロサービスを採用して成功している事例はありますか？まだどんな事が課題になりますか？&lt;/h4&gt;

&lt;h4&gt;次期Rubyでは型の導入が検討されていますが、現在のRuby/Railsの使われ方的に、どういうケースでRubyに型をつけるのがうまく行きそうか、見込みはありますか？&lt;/h4&gt;

&lt;h4&gt;他の会社の社内制度でいいと思うものがあれば教えてください&lt;/h4&gt;

&lt;h4&gt;Matzさんの考える、効率のいい開発方法とは何ですか？&lt;/h4&gt;

&lt;h4&gt;サービス作りをするとしたらどこに一番注力しますか？（UI/UX, パフォーマンス, コーディング etc..）&lt;/h4&gt;

&lt;p&gt;Matzさん、ありがとうございました！
次回もよろしくお願いいたします。&lt;/p&gt;

&lt;h3&gt;お知らせ&lt;/h3&gt;

&lt;p&gt;5/10(木)に行われる表参道.rbというイベントの会場ホスティングを、弊社オフィスで行うことになりました！&lt;/p&gt;

&lt;p&gt;詳しいことは下記URLにありますので、気になる方は是非いらしてください^^&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://omotesandorb.connpass.com/&quot;&gt;表参道rb&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>第一回モブプログラミング</title>
      <link>http://blog.all-in.xyz/2018/03/09/mob-programing-01</link>
      <pubDate>Fri, 09 Mar 2018 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2018/03/09/mob-programing-01</guid>
      <description>&lt;p&gt;&lt;img src=&quot;/images/2018-03-09-mob-programing-01/bbg-mob-pro.jpg&quot; alt=&quot;MobProgramming&quot;&gt;&lt;/p&gt;

&lt;p&gt;こんにちは。
エンジニアの平形（ &lt;a href=&quot;https://twitter.com/bigplants&quot;&gt;@bigplants&lt;/a&gt; ）です。&lt;br&gt;
2018年1月よりビジネスバンクグループにJoinしました。&lt;br&gt;
よろしくお願いします。&lt;/p&gt;

&lt;p&gt;今日は、弊社で実施したモブプログラミングについて話したいと思います。&lt;br&gt;
写真は実際のモブプロを実施した開発現場です。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;モブプログラミングって何？&lt;/h1&gt;

&lt;p&gt;モブプログラミング（以降モブプロ）とは、&lt;br&gt;
複数の開発者が一つのプログラムを実装するやり方の事です。ペアプロの複数人バージョンといったところでしょうか。&lt;br&gt;
１台のPCの画面を大きめのセカンドディスプレイに映し、そのPCで1人（ドライバ）がプログラミングを行います。その画面を他の人（ナビゲータ）は見ながら考えて指示を出します。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;今回のお題&lt;/h1&gt;

&lt;p&gt;今回はパフォーマンス改善の調査を、お題としました。&lt;br&gt;
パフォーマンス改善が全員で挑むお題として現在の僕らのチームには適していました。&lt;br&gt;
パフォーマンス改善は前提の業務知識が必要ないのでスタートし易いと考えたのです。  &lt;/p&gt;

&lt;p&gt;例えばバグフィックスの場合だと、最近入ったメンバーと以前からいるメンバーの間に前提知識の差が生まれてしまいます。&lt;br&gt;
そうすると、全員が参加しづらい状況になってしまいます。&lt;br&gt;
なるべく全員が取り組みやすいものにしたかったのです。&lt;/p&gt;

&lt;p&gt;で、今回の課題は何かと言うと、&lt;br&gt;
「毎朝、一括メール配信バッチを契機に届くMackerelのアラートの件を解決する」です。&lt;br&gt;
毎朝メモリを逼迫する問題が起こっており、&lt;br&gt;
NewRelicではパフォーマンスが異常に遅く、1JobでDBに対して大量のクエリが発行されている事が分かりました。&lt;br&gt;
今回の課題は、そのクエリを少なくしていかにJobの完走までの時間を早くできるか？です。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;どうやってやったのか？&lt;/h1&gt;

&lt;p&gt;意識したのは必ず全員が手を動かすようにする事です。&lt;br&gt;
その為にタイムキープをしっかりやって15分毎にドライバを交代しました。&lt;br&gt;
時間は2.5時間を予定していました。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;実際やってみてどうだったのか？&lt;/h1&gt;

&lt;h2&gt;良かった事&lt;/h2&gt;

&lt;p&gt;まず、議論が活発に行われた事です。画面で実際に手を動かしながら議論が行われるので、実行に移すのがすごく早いです。&lt;br&gt;
それぞれの経験値から出てくる意見が調査のアプローチを多様なものにしました。&lt;br&gt;
それによって、効率的に調査が進みました。&lt;br&gt;
時間の区切りとしても15分は適度な緊張感を与え、ちょうど良かったです。  &lt;/p&gt;

&lt;p&gt;あと、実施する前に考えつかなかった良い点が、それぞれのメンバが持っている調査手法や考え方が共有できる事です。&lt;br&gt;
調査のやり方は何通りもあり、その中には効率的なものもあれば非効率なものもあります。&lt;br&gt;
限られた時間の中で調査をより前へ進めようとする気持ちがみんなの中に芽生えていました。&lt;br&gt;
このやり方のほうがいいかも！こっちから見てみよう。といった意見が活発に挙がりました。&lt;br&gt;
その中には、「いままで苦労してたけどそんなやり方あったんだ！」といったものも幾つかありました。&lt;br&gt;
非常に得るものが大きかったと思います。&lt;/p&gt;

&lt;p&gt;そして何より、成果が出た事が良かったです！&lt;br&gt;
問題のコードまで特定し、改善方針までその場で決定する事ができました。&lt;br&gt;
もちろん既にメンバー内で一部始終は共有できているので、改めて調査の報告や合意を取る必要はありません。  &lt;/p&gt;

&lt;p&gt;この手の調査は一人で行うと色んな壁にぶち当たり、心が折れそうになります。そして孤独。&lt;br&gt;
一人で挑んだ場合は、丸一日かけてグッタリしながらやっと成果が出るかどうか？というところだったと思います。  &lt;/p&gt;

&lt;p&gt;みんなでやれば怖くない！  &lt;/p&gt;

&lt;p&gt;あとは、純粋に「楽しい！」というのが大きいです。&lt;/p&gt;

&lt;h2&gt;次回に改善したい事&lt;/h2&gt;

&lt;p&gt;そこまで問題では無かったですが、一つのPCを交代で触っていたので、キーバインドが違ったりで若干手間取る場面がありました。&lt;br&gt;
ドライバが交代する時にPCも一緒に切り替えても良かったかもしれません。  &lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;まとめ&lt;/h1&gt;

&lt;p&gt;モブプロは一見、リソースを過剰に割いているように見えますが、非常に見返りがあってやって良かったなー。と感じています。&lt;br&gt;
費やした時間は十分に元が取れる程、成果があったと思っています。  &lt;/p&gt;

&lt;p&gt;とても楽しかったので、モブプロを開催したくて次のネタをどれにしようか考えていますw&lt;br&gt;
また新たな発見があったら本ブログにて報告します。  &lt;/p&gt;

&lt;p&gt;一度あなたの現場でも、モブプロを試してみるのはいかがでしょうか？&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;

&lt;style&gt;
table {
  border-collapse: collapse;
}
th {
  border: solid 1px;
  padding: 0.5em;
}
td {
  border: solid 1px;
  padding: 0.5em;
}
&lt;/style&gt;
</description>
    </item>
    
    
    
    <item>
      <title>早い、安全、信頼性が高い、3点揃ったJSの新パッケージマネージャyarnがすてきな件！</title>
      <link>http://blog.all-in.xyz/2016/12/12/yarn</link>
      <pubDate>Mon, 12 Dec 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/12/12/yarn</guid>
      <description>&lt;p&gt;&lt;img src=&quot;/images/2016-12-12-yarn/yarn.png&quot; alt=&quot;Apps&quot;&gt;&lt;/p&gt;

&lt;p&gt;こんにちわ！
バックパッカーエンジニアの &lt;a href=&quot;https://twitter.com/hbd225&quot;&gt;@hbd225&lt;/a&gt; です。&lt;br&gt;
この寒い季節、南国でぬくぬくとナシゴレンが食べたくなりますね！&lt;/p&gt;

&lt;p&gt;今回はReactやImmutable.jsなどJS周りの素敵ライブラリをがしがし作ってくれてるfacebook社が、先月新しく公開してくれたyarnのご紹介です。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;yarnて何？&lt;/h2&gt;

&lt;p&gt;フロントのJSの開発をする際、ライブラリの管理にnpmを使われているかと思いますが、yarnはnpmに変わる新しいパッケージマネージャです！猫かわいいです！&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;yarnの何がいいの？&lt;/h2&gt;

&lt;p&gt;個人的ランキングでは以下になります！
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;1. yarn.lock によって全ての環境で同じライブラリのバージョンが揃えられる&lt;/h3&gt;

&lt;p&gt;開発環境の違いによるエラーなどは原因探すの大変ですよね・・！
&lt;br&gt;
&lt;br&gt;
npmがライブラリの依存関係の管理に使っているpackage.jsonはバージョンナンバーが範囲で指定できるため、同じpackage.jsonを使っていてもタイミングによって異なるバージョンのライブラリがインストールされる可能性があり、バージョンナンバーの不一致から人によっては動かなくなったりします。&lt;/p&gt;

&lt;p&gt;yarnではyarn.lockを使うことで全ての環境で同じバージョンのライブラリがインストールされることを保証してくれるので、上記の問題は起こらなくなります。
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;2. チェックサムによるライブラリの整合性チェック&lt;/h3&gt;

&lt;p&gt;yarnではライブラリのインストール時にコードを実行する前に必ずチェックサムによるパッケージの内容の整合性の確認が行われるため、正しいライブラリのみコードの実行が行われることを保証してくれます。
&lt;br&gt;&lt;/p&gt;

&lt;p&gt;クリティカルなシステムを運用する場合には助かりますね！
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;3. ライブラリのインストールが早い！&lt;/h3&gt;

&lt;p&gt;いろいろな方が計測されているように、npmと比べてライブラリのインストールが早いです！嬉しいです！
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;4. npmと使い方がほぼ変わらない&lt;/h3&gt;

&lt;p&gt;コマンド名は多少変わってはいますが、npmを使っていたときとほぼ同じ感じで使うことができるので乗り換えるコストが少なくてよいです。
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;table width=&quot;100%&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;npm&lt;/th&gt;
      &lt;th&gt;yarn&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;npm install&lt;/td&gt;
      &lt;td&gt;yarn&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm install hoge --save&lt;/td&gt;
      &lt;td&gt;yarn add hoge&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm uninstall hoge --save&lt;/td&gt;
      &lt;td&gt;yarn remove hoge&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm init&lt;/td&gt;
      &lt;td&gt;yarn init&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm run&lt;/td&gt;
      &lt;td&gt;yarn run&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm cache clean&lt;/td&gt;
      &lt;td&gt;yarn cache clean&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm test&lt;/td&gt;
      &lt;td&gt;yarn test&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm link&lt;/td&gt;
      &lt;td&gt;yarn link&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm outdated&lt;/td&gt;
      &lt;td&gt;yarn outdated&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm publish&lt;/td&gt;
      &lt;td&gt;yarn publish&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm login&lt;/td&gt;
      &lt;td&gt;yarn login&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;npm logout&lt;/td&gt;
      &lt;td&gt;yarn logout&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;hr&gt;

&lt;h2&gt;まとめ&lt;/h2&gt;

&lt;p&gt;僕は犬派でありますが、猫もかわいいですよね！&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;

&lt;style&gt;
table {
  border-collapse: collapse;
}
th {
  border: solid 1px;
  padding: 0.5em;
}
td {
  border: solid 1px;
  padding: 0.5em;
}
&lt;/style&gt;
</description>
    </item>
    
    
    
    <item>
      <title>rubyのsortメソッド</title>
      <link>http://blog.all-in.xyz/2016/11/27/ruby-sort</link>
      <pubDate>Sun, 27 Nov 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/11/27/ruby-sort</guid>
      <description>&lt;p&gt;ビジネスバンクグループ新卒エンジニアのしみきょんこと清水恭子です！
社会人になって半年くらいが立ち日々奮闘しているしみきょんですが、最近気になっていることがあったので調べてみました。&lt;/p&gt;

&lt;p&gt;それは、rubyのsortについてです。
学生時代、ライブラリなどを使用せず地道に選択ソートを書いて実装していたことがあったのですが実務ではそんなことは当然ありません。
今までの自分の実装がどれほど非効率であったか気になったのでrubyのsortを調べて比べてみました。&lt;/p&gt;

&lt;p&gt;今回は、0~999のランダムに並べられた数字をソートした計算時間の平均数値(100回)をみてみました。&lt;/p&gt;

&lt;h2&gt;今まで書いていた選択ソート&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_a&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;min_position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;min_position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min_position&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果：約0.037s&lt;/p&gt;

&lt;h2&gt;続いてrubyのsort&lt;/h2&gt;

&lt;p&gt;こちらにArrayクラスのsortがあるらしいです。&lt;br /&gt;
(https://github.com/ruby/ruby/blob/trunk/array.c)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_a&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果：約0.000211s&lt;/p&gt;

&lt;p&gt;おお、全然違います。&lt;br /&gt;
rubyのsortはクイックソートに似たようなものを使用しているようなのでクイックソートも試してみました。&lt;/p&gt;

&lt;h2&gt;クイックソート&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_a&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;quick_sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pivot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pivot&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pivot&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;quick_sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;quick_sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;quick_sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果：約0.000660s&lt;/p&gt;

&lt;p&gt;クイックソートでも全然ちがいます。&lt;/p&gt;

&lt;p&gt;今まで、いかに非効率な実装をしていたのかとこれを見ると一目瞭然です。&lt;/p&gt;

&lt;p&gt;またrubyのsortでも、文字列の並び替えなどといったsort条件が複雑になる場合はsort_byを使用したほうが優れていたりだとか、
sortって普通要素数が計算量に比例しているイメージですが、要素の最大値が計算量を支配している&amp;quot;sleep sort&amp;quot;というsortがあったりだとか、
調べれば調べるほど奥が深いです、、、おもしろいですね&lt;/p&gt;

&lt;p&gt;sortと聞くと一見ただの並び替えというイメージがありますがデータの持ち方によってそれにあったsortを選ばないと計算量に差がでてくるので気をつけたいです。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>(JavaScript)isNaNメソッドの挙動の違い</title>
      <link>http://blog.all-in.xyz/2016/11/12/about_difference_is_nan_method</link>
      <pubDate>Sat, 12 Nov 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/11/12/about_difference_is_nan_method</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の高橋 慶太です。&lt;/p&gt;

&lt;p&gt;今回は、開発時に「えっ！？」と思った「isNaN」メソッドの挙動について、書いてみました。&lt;/p&gt;

&lt;h2&gt;isNaNメソッドとは？&lt;/h2&gt;

&lt;p&gt;isNaNメソッドは、名前の通り、NaN（Not a number）かどうかを判定するメソッドです。&lt;/p&gt;

&lt;p&gt;JavaScriptにおいて、NaNかどうかを判定する場合にいくつか方法がありますが、&lt;u&gt;記述の方法によって期待値が異なる場合がある&lt;/u&gt;ため、どういう実行結果になるのかを把握した上で使う必要があります！&lt;/p&gt;

&lt;h2&gt;比較&lt;/h2&gt;

&lt;p&gt;今回は以下の3つの記述方法を比較してみました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;isNum(value)&lt;/li&gt;
&lt;li&gt;Number.isNum(value)&lt;/li&gt;
&lt;li&gt;_.isNaN(value) ※ Underscore.jsライブラリ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;table border=&quot;1&quot;&gt;
  &lt;tr&gt;
    &lt;th&gt;&lt;/th&gt;
    &lt;th colspan=&quot;3&quot;&gt;メソッド&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;引数&lt;/th&gt;
    &lt;th width=&quot;200px&quot;&gt;isNaN(value)&lt;/th&gt;
    &lt;th width=&quot;200px&quot;&gt;Number.isNaN(value)&lt;/th&gt;
    &lt;th width=&quot;200px&quot;&gt;_.isNaN(value)&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;NaN&lt;/th&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;Number.NaN&lt;/th&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;0/0&lt;/th&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
    &lt;td&gt;true&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;&amp;quot;NaN&amp;quot;&lt;/th&gt;
    &lt;td&gt;&lt;font color=&quot;red&quot;&gt;&lt;b&gt;true&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;undefined&lt;/th&gt;
    &lt;td&gt;&lt;font color=&quot;red&quot;&gt;&lt;b&gt;true&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;{}&lt;/th&gt;
    &lt;td&gt;&lt;font color=&quot;red&quot;&gt;&lt;b&gt;true&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;new Date().toString()&lt;/th&gt;
    &lt;td&gt;&lt;font color=&quot;red&quot;&gt;&lt;b&gt;true&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;new Date()&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;[]&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;1/0&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;true&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;null&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;123&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;123.45&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;&amp;quot;123&amp;quot;&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;&amp;quot;123.45&amp;quot;&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;&amp;quot;&amp;quot;&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th&gt;&amp;quot; &amp;quot;&lt;/th&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
    &lt;td&gt;false&lt;/td&gt;
  &lt;/tr&gt;
&lt;table&gt;&lt;/p&gt;

&lt;p&gt;一部違う結果が異なるところがありますね・・・。&lt;/p&gt;

&lt;h2&gt;なぜ結果が違う？？&lt;/h2&gt;

&lt;p&gt;Number.isNaN()・_.isNaN()は、純粋に「引数がNaNかどうか」で判定されます。&lt;/p&gt;

&lt;p&gt;しかし、isNaN()の場合は、引数を暗黙的に変換してしまって、「NaNに変換できてしまうものはNaNである」と判定されてしまうようです。&lt;/p&gt;

&lt;h2&gt;まとめ&lt;/h2&gt;

&lt;p&gt;記述方法によっては、期待しない結果が返ってくる場合があるので、気をつけて使いましょう！&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>肩こりエンジニアへの福音</title>
      <link>http://blog.all-in.xyz/2016/09/07/express</link>
      <pubDate>Wed, 07 Sep 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/09/07/express</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の ympppです。  &lt;/p&gt;

&lt;p&gt;いきなりですが、これがALLIN開発を担当している私の仕事姿です。&lt;br&gt;
座っているだけ。ただじっと目の前のモニターを眺め続け、たまにしかめっ面をします。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-09-08-express/0_sitting_man.jpg&quot; alt=&quot;座っているだけ&quot;&gt;&lt;/p&gt;

&lt;p&gt;座っているだけ。。。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;もちろんALLIN開発は座っているだけの簡単なお仕事というわけではないので、このスタイルで&lt;br&gt;
ちゃんとプログラミングをしています。このヘンテコな仕事スタイルを実現してくれているのが&lt;a href=&quot;http://www.bullettrain.com/express/index.html&quot;&gt;BulletTrain eXpress Keyboard Platform&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-09-08-express/1_express.jpg&quot; alt=&quot;eXpress&quot;&gt;
&lt;a href=&quot;http://www.bullettrain.com/express/index.html&quot;&gt;BulletTrain eXpress Keyboard Platform&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;作りは単純なもので、Apple純正のキーボードとトラックパッドをパコっとはめただけの代物です。&lt;br&gt;
これを膝（もも？）の上に置いて机の下に潜り込ませると、目の前ではコーディングが進むのを眺めている「ただ座っているだけのおじさん」の出来上がりです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-09-08-express/2_working_man.gif&quot; alt=&quot;仕事してるよ&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;入力デバイスにこだわりを持つエンジニアの方は多いですよね。  &lt;/p&gt;

&lt;p&gt;今まで見てきた中ではHappy Hacking Keyboardが１番人気でしょうか。
HHKBには私もかなり惹きつけられて どちらにするか迷ったのですが、eXpressを選んで正解だったと思っています。&lt;/p&gt;

&lt;p&gt;eXpressをこれほどに推す理由としては&lt;strong&gt;「デスクが片付きやすくなる」「Apple純正のKeyboardを使うため、MacBook慣れしている手にしっくりくる」&lt;/strong&gt;といった点もあるのですが、何より声を大にして伝えたいのが&lt;strong&gt;「肩が凝りにくい！！」&lt;/strong&gt;です。
その効果について、eXpressに出会う前の私の姿をご覧いただきながら説明しましょう。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;デスクの上にMacBookまたはキーボードをおく&lt;/h2&gt;

&lt;p&gt;通常はこの形だと思うのですが、デスクと椅子の高さを絶妙に合わせないといけません。&lt;br&gt;
私は姿勢が悪いのでズルズルと腰が前にいってしまい、デスクの天板と顎がくっつきそうな位になってしまうこともあり。。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-09-08-express/3_zurizuri.jpg&quot; alt=&quot;ずっていってしまう&quot;&gt;
あるあるですよね。&lt;/p&gt;

&lt;p&gt;この状態でキーボードをデスク上に置いていると、腕を肩の高さに上げるような格好になってしまい、肩にかなりの負担がかかります。&lt;/p&gt;

&lt;p&gt;eXpressを使えば、姿勢に関係なく肩はいつもストンと落ちた状態でノーストレス。&lt;br&gt;
あの仕事後に気づく肩こりが無いんです！&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;MacBookをお膝の上で使う&lt;/h2&gt;

&lt;p&gt;ノートPCは英語圏ではLaptopって言いますから、このスタイルが実は王道なのかもしれません。&lt;br&gt;
しかし一番の難点は&lt;strong&gt;「熱い！」&lt;/strong&gt;ことで、冬ならまだしも夏に高性能湯たんぽをかかえて仕事するのは苦痛というより無理です。。。&lt;br&gt;
さらに重ねて言いますが私は姿勢が悪いので、これでやろうとする猫背になってしまいます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-09-08-express/4_marumaru.jpg&quot; alt=&quot;まるまる&quot;&gt;&lt;/p&gt;

&lt;p&gt;背中の筋肉に不自然なテンションがかかってしまい、これまた肩こりの原因です。  &lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;しかしeXpressを使えば！&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;キーボードとトラックパッドは、どんな姿勢でも肩に負担の無いかたちでベストポジション&lt;/li&gt;
&lt;li&gt;熱くならない&lt;/li&gt;
&lt;li&gt;外部モニターを使ってもデスクが広々&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;快適環境で仕事ができて、あの肩こりからも開放されるんです！&lt;/p&gt;

&lt;p&gt;ここまで推しまくったeXpressですが、2016年9月現在、すぐに入手することができません。。&lt;br&gt;
私が使っているのはeXpress &lt;strong&gt;2nd&lt;/strong&gt;で、3年ほど前に&lt;a href=&quot;http://www.bullettrain.com/express/index.html&quot;&gt;bullettrain&lt;/a&gt;から購入したものなのですが、今はもう購入できません。
AppleがMagic KeyboardとMagic Trackpadをリニューアルしたのに合わせ、bullettrain社もeXpressをリニューアルしたばかりなのです。  &lt;/p&gt;

&lt;p&gt;この&lt;strong&gt;3rd&lt;/strong&gt;モデルはMagic KeyboardとMagic Trackpad2を使うため、ライトニングケーブルによる充電方式になります。2ndで利用するキーボードは電池交換の度に面倒な思いをしているので、この3rdの発売を首を長くして待っていました！！  &lt;/p&gt;

&lt;p&gt;すでにクラウドファンディングの&lt;a href=&quot;https://www.indiegogo.com/projects/bullettrain-express-keyboard-platform-apple#/&quot;&gt;Indiegogo&lt;/a&gt;を通じて発売されていますが、発送は未だです。&lt;br&gt;
（当初は８月下旬発送予定だったのですが、遅れています。。）&lt;/p&gt;

&lt;p&gt;もちろん私もリリース直後に購入手続きを済ませたのですが、嬉しさのあまりこれは布教せねばと思い、5台セットを購入してしまったほどです。&lt;br&gt;
どうしよう。。  &lt;/p&gt;

&lt;p&gt;これを読んでeXpressにご興味をもった方、さぁすぐに&lt;a href=&quot;http://www.bullettrain.com/express/&quot;&gt;ポチリ&lt;/a&gt;して &lt;strong&gt;Enjoy hacking!!&lt;/strong&gt;&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジーや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>QAの仕事</title>
      <link>http://blog.all-in.xyz/2016/08/30/talk-about-QAs-profession</link>
      <pubDate>Tue, 30 Aug 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/08/30/talk-about-QAs-profession</guid>
      <description>&lt;p&gt;QA(Quality Assurance) 堀内です。今のところ社内唯一のQAです。&lt;br&gt;
テストばかり注目されがちなQAですが、実際はテスト以外の事はもっとしていると思います！&lt;/p&gt;

&lt;p&gt;ユーザが満足に使える品質を担保するという役割は第一ですが、チームの改善もQAの仕事として行っています。&lt;/p&gt;

&lt;p&gt;どんなことをしているかというと大きく2つあると考えています。&lt;br&gt;
① 品質保証活動&lt;br&gt;
② プロセス改善活動  &lt;/p&gt;

&lt;p&gt;① 品質保証活動とは&lt;br&gt;
&lt;strong&gt;不具合を発見し、それを修正することにより品質を上げる！&lt;/strong&gt;という品質を上げるアプローチと&lt;br&gt;
&lt;strong&gt;不具合を作り込まないようにして品質を守る！&lt;/strong&gt;という品質を下げないアプローチをしています。  &lt;/p&gt;

&lt;p&gt;前者は一般的にQAやテスト担当者の作業として認識されている作業でしょう。&lt;br&gt;
テストケースの作成やテスト実施を行い、不具合を見つけるというのはQAとして最も認識されているアクションで
不具合発見という目に見える成果が残ります。&lt;/p&gt;

&lt;p&gt;後者は仕様のレビューなどテスト実施前に仕様として不明確な箇所や既存システムに問題を与える箇所などを指摘し
不具合を初めから作りこまないようにしていく作業です。&lt;br&gt;
イメージ的にテストらしさが無いですが、QAの世界では静的テストと呼ばれる種類のテストです。&lt;br&gt;
製品を動かして不具合を見つける動的テストよりも成果が見えづらく地味ですが、工数への影響はこちらの方が大きいことが多いです。  &lt;/p&gt;

&lt;p&gt;② プロセス改善活動とは&lt;br&gt;
仕様作成からリリースまでの開発プロセス全体の見直しや改善です。&lt;br&gt;
このあたりの活動になるとマネージャーやリーダーが実施しているチームも多いと思いますが、QAは開発チーム内でも遅延や問題が発生すると影響を受けやすいポジションなのでQAからの働きかけは重要です。  &lt;/p&gt;

&lt;p&gt;例えばテスト実施中に以下のようなが問題が発生する場合があります。&lt;br&gt;
1.予定通りにテストを始められない！&lt;br&gt;
2.不具合があまりに多すぎる！&lt;br&gt;
3.期限ぎりぎりに修正してくる！&lt;br&gt;
4.要件が変わった！  &lt;/p&gt;

&lt;p&gt;これらが発生したときに&lt;br&gt;
「リリース日は変更しないからQA時間無いけど頑張って！」と言われ&lt;Font color=&quot;white&quot;&gt;はぁ？？と心の中で思いながら&lt;/font&gt; 
残業で稼働を増やしたり人を増やしたりしてどうにかリリースを目指すといった形で開発チームの問題をQAが一身に浴びることになりがちです。&lt;/p&gt;

&lt;p&gt;問題が発生してしまうことはやむを得ない部分もありますが、その問題を次に生かすことでチームの質を上げていくことができます。
&lt;Font color=&quot;white&quot;&gt;ここでしっかり自分の身を守りましょう！！（超重要）&lt;/font&gt;&lt;br&gt;
例えば「テストが予定通りに始められなかった」という問題があった場合&lt;br&gt;
原因１）要件が変わって開発が遅延した&lt;br&gt;
↓&lt;br&gt;
原因２）要件に不足があった&lt;br&gt;
↓&lt;br&gt;
原因３）レビューに漏れがあった 
と分析した場合には&lt;br&gt;
・時期が不適切&lt;br&gt;
・回数は適切&lt;br&gt;
・目的が不適切&lt;br&gt;
・担当者は適切&lt;br&gt;
・レビュー後のアクションが不適切&lt;br&gt;
原因４)　・・・・&lt;br&gt;
というように根本的に何を解決する必要があるのかを分析し、今後同じ問題を発生させないチーム作りをしていきます。&lt;/p&gt;

&lt;p&gt;&lt;br&gt;
ところで、テストを実施したときに&lt;br&gt;
・不具合をたくさん見つけるQA&lt;br&gt;
・不具合をあまり見つけないQA&lt;br&gt;
どちらが優れていると思いますか？&lt;/p&gt;

&lt;p&gt;個人的には前者は優れたテスターかイマイチなQA、後者はイマイチなテスターか優れたQAと見ます。&lt;/p&gt;

&lt;p&gt;テスターとしての役割でまったく同じ条件、製品をテストした結果であれば、単純に多くの不具合を見つけるテスターの方がテストスキルが優れているでしょう。&lt;/p&gt;

&lt;p&gt;ただし、テスターではなくQAとして見た場合はそうとは限りません。&lt;br&gt;
&lt;strong&gt;テストで見つかった不具合は本当にテストを実施するまで見つけられないものだったのか？&lt;/strong&gt;
と考えると、多くの場合事前に防ぐことができたはずです。&lt;br&gt;
&lt;strong&gt;テスト実施の前にQAとして不具合の作り込みを防ぐ活動を十分に実施した&lt;/strong&gt;結果&lt;br&gt;
「不具合があまり見つけられなかった」のであればこちらの方がより優れたQAでしょう。  &lt;/p&gt;

&lt;p&gt;QAは不具合を見つけることに価値を見出されがちですが不具合はそもそも見つからない方が良いに決まっています。究極的なことを言うならば不具合が見つからないテスト、問題が発生しない開発チームを作っていけるQAが優れたQAだと思っています。  &lt;/p&gt;

&lt;p&gt;このように不具合を見つけないための活動もしているため、QA担当者はテスト実施以外にも多くの時間を使っています。&lt;/p&gt;

&lt;p&gt;・・&lt;/p&gt;

&lt;p&gt;・・・&lt;/p&gt;

&lt;p&gt;・・・・&lt;/p&gt;

&lt;p&gt;という理由以外にもビジネスバンクグループには裏のワケがある！&lt;/p&gt;

&lt;p&gt;そのワケとは・・・&lt;/p&gt;

&lt;p&gt;&lt;Font color=&quot;RED&quot;&gt;&lt;strong&gt;QAが1人しかいない！&lt;/strong&gt;&lt;/font&gt;&lt;br&gt;
一番初めに唯一とかネタバレしてますがそこは気にしません。QAが１人なので何でもやれるのです。
ただ、１人でやれる範囲には限界があって自動化などまったくと言えるレベルで手をつけていないものもあるので
QAやってみたいなーという方はフッターのリンクか&lt;br&gt;
&lt;a href=&quot;https://www.green-japan.com/job/35872&quot;&gt;https://www.green-japan.com/job/35872&lt;/a&gt;&lt;br&gt;
を確認してもらえるとうれしいです！&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Matz ＆BBG_Developer 勉強会</title>
      <link>http://blog.all-in.xyz/2016/08/02/matz</link>
      <pubDate>Tue, 02 Aug 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/08/02/matz</guid>
      <description>&lt;p&gt;こんにちは！ビジネスバンクグループエンジニアの
&lt;a href=&quot;https://twitter.com/&quot;&gt;清水恭子&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;ビジネスバンクグループでは月に一度、Matzさんに勉強会をしていただいております！&lt;br /&gt;
なんとも贅沢な機会でございます、、&lt;br /&gt;
本日はそんな勉強会の内容を皆さんにもシェアしたいと思います〜&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;勉強会の内容はこちらっ！！&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;mrubyがIoTでどのぐらい実用化されてるか?また、mrubyではどの程度制限があるのか。&lt;br /&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-08-02-matz/Matz.png&quot; alt=&quot;Matzsan&quot;&gt;&lt;/p&gt;

&lt;p&gt;さて、いつも笑顔が素敵なMatzさんをご覧いただいたところで&lt;br /&gt;
早速内容に入りたいと思います^^&lt;/p&gt;

&lt;h3&gt;Matzさんが思うIoTの現状&lt;br /&gt;&lt;/h3&gt;

&lt;p&gt;現在のIoTはデバイス側が注目されることが多いですが、&lt;br /&gt;
サーバ側がどうデータを扱うかが重要になってくると考えています。 &lt;br /&gt;&lt;/p&gt;

&lt;p&gt;　今のIoTでできること（第一世代）&lt;br /&gt;
　　-　工場とかのセンサーで、稼働状況をロギングしてビックデータ化して処理する&lt;br /&gt;
　進化したIoTができそうなこと（第二世代）&lt;br /&gt;
　　-　そのデータを外部に渡すとき、秘密にしたい情報を選別するロジックをデバイスに埋め込む&lt;br /&gt;
　さらに進化したら、、（第三世代）&lt;br /&gt;
　　-　デバイスもロボット化して双方向なことができるようになるであろう！&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;現在メジャーとなっているほとんどの技術はハイプ曲線のように進化していると言われています。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;(最初に上がって、その後一旦下るが徐々に再度曲線が上がり最終的に安定するといった曲線です。&lt;br /&gt;
&amp;quot;ガートナー　ハイプ曲線&amp;quot;　でググってみてください^^)&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;IoTはそんなハイプ曲線でいう幻減期（下り気味）にあります！！&lt;br /&gt;
メディアでの取り上げも少なくなってきました、、
しかし諦めないで進化を続ければ回復期を経て安定期となるでしょう！&lt;br /&gt;&lt;/p&gt;

&lt;h3&gt;mrubyとの関係性&lt;be /&gt;&lt;/h3&gt;

&lt;p&gt;mrubyがIoTで実用化されるのはもう少し先です。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;　・クライアントにロジックをばらまくようにIoTが変化&lt;br /&gt;
　・デバイス側のロジックの必要性の重視&lt;br /&gt;
　・それらのロジックをアップデートする必要性の重視&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;などといった流れがきたら、mrubyが活躍するはずです。&lt;br /&gt;
今のIoTはまだ第一世代ですので、第二、第三世代に期待です。&lt;br /&gt;&lt;/p&gt;

&lt;h3&gt;では、現段階でmruby実用化されている例はありますか？&lt;br /&gt;&lt;/h3&gt;

&lt;p&gt;次のようなケースがあります&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;　・リバースプロキシするときに使って、サービスにつなげる際の切り替え&lt;br /&gt;
　・LinuxのCグループを使ったリソース制御&lt;br /&gt;
　・画像のサイズ変換をフロントサイドで行うなどアプリ組み込みのケース&lt;br /&gt;
　・ゲームに組み込んだケース&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
デバイスに組み込む例だと、、&lt;br /&gt;
　・マイクロ人口衛星への組み込み実験&lt;br /&gt;
　・プリンタ制御のロジック&lt;br /&gt;
　・自販機のロジック&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;webサーバに組み込まれているケースが一番多いです&lt;br /&gt;&lt;/p&gt;

&lt;h3&gt;デバイスにおけるmruby&lt;br /&gt;&lt;/h3&gt;

&lt;p&gt;&amp;quot;mrubyをデバイスに積む=&amp;gt;メモリが増える=&amp;gt;原価が上がる&amp;quot;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;原価ギリギリのデバイスには不向きですが&lt;br /&gt;
いろいろなデバイスがインターネットにつながったり&lt;br /&gt;
ソフトウェアの必要性が高くなったときに、mrubyが使えます。&lt;br /&gt;&lt;/p&gt;

&lt;h3&gt;最後に本日の締めをお願い致します！&lt;br /&gt;&lt;/h3&gt;

&lt;p&gt;無駄な時間から生まれるイノベーションを大切にしています。&lt;br /&gt;
生産性を高めて無駄な時間を増やしてみてください！&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;(以上となります！私も早速mruby触ってみたいと思います！&lt;br /&gt;
Matzさん、とても勉強になるお話ありがとうございました^^)&lt;br /&gt;&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>pecoでエンジニア人生を10倍楽にしよう！</title>
      <link>http://blog.all-in.xyz/2016/08/01/peco</link>
      <pubDate>Mon, 01 Aug 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/08/01/peco</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の数藤 智幸です。&lt;/p&gt;

&lt;p&gt;エンジニアを生業としている関係で生産性向上のために色々なツールを探していますが、&lt;br&gt;
時々、衝撃的に便利なツールに出会えることがあります。  &lt;/p&gt;

&lt;p&gt;今回はそんな中でも最も便利といえるかもしれない「peco」をご紹介します。&lt;/p&gt;

&lt;h2&gt;pecoとは？&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/peco/peco&quot;&gt;peco/peco&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;こちらでは&lt;strong&gt;Simplistic interactive filtering tool&lt;/strong&gt;と紹介されていますが、&lt;br&gt;
標準入力で与えられた情報から行を絞込み、標準出力に出力するだけのものです。&lt;br&gt;
だけ、と書きましたが、unix哲学にそって他のコマンドと組み合わせることで、&lt;br&gt;
劇的に便利なものになります。&lt;/p&gt;

&lt;p&gt;元々は同じ機能をもったpython製のpercolというツールがあり、&lt;br&gt;
こちらはそのgolang実装として開発されました。&lt;br&gt;
golang製になることにより、バイナリ一つで動作するようになったため人気となっています。  &lt;/p&gt;

&lt;h2&gt;インストール&lt;/h2&gt;

&lt;p&gt;OS XでHomebrewをお使いであれば、以下で入ります。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;brew install peco
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;その他の場合は、以下のリリースページから自分のマシンにアーキテクチャにあった&lt;br&gt;
バイナリをダウンロードし、パスの通ったところに置いておきましょう。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/peco/peco/releases&quot;&gt;Releases · peco/peco · GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;他にはgolangの開発環境が整っている場合は、go getで最新のものを試すことができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;go get github.com/peco/peco/cmd/peco
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;動作確認&lt;/h2&gt;

&lt;p&gt;インストールが終わったら、試しにディレクトリ一覧から絞り込みを行ってみましょう。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ls -al | peco
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;すると、lsの結果が一覧として出てきますが、1行目はQUERYで始まっているはずです。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;QUERY&amp;gt;
total 8332008
drwx------    4 sudo  staff         136  1 12  2016 Applications
drwx------+  54 sudo  staff        1836  8  1 00:36 Desktop
drwx------+  16 sudo  staff         544  7 11 17:09 Documents
drwx------+ 156 sudo  staff        5304  8  1 00:48 Downloads
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;適当な文字を入力して絞り込んでみましょう。&lt;br&gt;
ファジー検索なので正確に入力する必要はありません。&lt;br&gt;
絞り込んだら、カーソルキーで行を選択しEnterを押すと、&lt;br&gt;
選択した行の内容がそのまま表示されます。&lt;br&gt;
基本的な動作は以上となります。&lt;br&gt;
なお、選択せずに終了したい場合はCtrl+cで終了します。  &lt;/p&gt;

&lt;h2&gt;色々な利用方法&lt;/h2&gt;

&lt;p&gt;あとは色々と組み合わせて使っていくだけなのですが、&lt;br&gt;
自分が使っているものを参考までに。&lt;br&gt;
詳しく書かれている他サイト様を参考とさせていただいています。  &lt;/p&gt;

&lt;h3&gt;コマンド履歴、ディレクトリの移動履歴&lt;/h3&gt;

&lt;p&gt;pecoを使う上での基本ですね。ぜひ設定して使ってみましょう。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://futurismo.biz/archives/2514&quot;&gt;最近ナウイpecoを試してみたメモ | Futurismo&lt;/a&gt;
コマンド履歴、ディレクトリの移動履歴など。&lt;/p&gt;

&lt;h3&gt;プロジェクト(gitリポジトリ)の移動&lt;/h3&gt;

&lt;p&gt;私は仕事用もプライベート用も全てのリポジトリはgolangの決まりに従い、&lt;br&gt;
&lt;code&gt;$GOPAT/src&lt;/code&gt;内に入れるようにしています。&lt;br&gt;
Railsのプロジェクトなども全て同じ場所にあります。&lt;br&gt;
そして&lt;code&gt;$GOPAT/src&lt;/code&gt;内のプロジェクトをpecoで選択し移動できるようにしています。  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.kentarok.org/entry/2014/06/03/135300&quot;&gt;ghqを使ったローカルリポジトリの統一的・効率的な管理について - delirious thoughts&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;gitのブランチ切替&lt;/h3&gt;

&lt;p&gt;gitのブランチの切り替えもpecoを使っています。&lt;br&gt;
どうしても平行して幾つかのブランチを修正することがあるので、便利です。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://k0kubun.hatenablog.com/entry/2014/07/06/033336&quot;&gt;私のpeco活用事例 - k0kubun&amp;#39;s blog&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;sshログイン&lt;/h3&gt;

&lt;p&gt;以下のようなコマンドを設定しておけば、&lt;br&gt;
~/.ssh/configの設定からHostを絞りこみ、ログインすることが可能となります。  &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;alias sshlist=&amp;quot;cat ~/.ssh/config |grep ^Host\  |sed -e &amp;#39;s/^Host\ //g&amp;#39;&amp;quot;
alias pssh=&amp;quot;sshlist | peco | xargs -I{} sh -c &amp;#39;ssh {} &amp;lt;/dev/tty&amp;#39; ssh&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これでpsshコマンドを実行すればHostを絞り込むことができるようになります。  &lt;/p&gt;

&lt;h3&gt;Rakeタスクの実行&lt;/h3&gt;

&lt;p&gt;rakeタスクを絞り込んで実行します。Railsでの開発時に便利です。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://qiita.com/naoty_k/items/93aa0f35aaa889f36d18&quot;&gt;PecoからRakeタスクを実行する - Qiita&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;まとめ&lt;/h2&gt;

&lt;p&gt;簡単な紹介でしたが、いかがでしょうか？&lt;br&gt;
アイデア次第でいくらでも活用方法が広がっていくのがpecoの魅力なので、&lt;br&gt;
ぜひ独自の活用方法を考えてみてください。  &lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジーや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>ウェブデザインにおける「段階的開示」について</title>
      <link>http://blog.all-in.xyz/2016/07/18/stepwise-display</link>
      <pubDate>Mon, 18 Jul 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/07/18/stepwise-display</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の&lt;a href=&quot;https://twitter.com/t_seek&quot;&gt;岩崎 俊貴&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;今回は、UX/UIの知識として「段階的表示」についてご紹介します。&lt;/p&gt;

&lt;h2&gt;ALL-INのUIが徐々に新しくなっています！&lt;/h2&gt;

&lt;p&gt;こんにちはエンジニアの岩崎です。&lt;/p&gt;

&lt;p&gt;ALL-INは中心的な機能を優先して、機能追加を行ってきました。&lt;/p&gt;

&lt;p&gt;今後の機能拡充に伴い、&lt;br&gt;
より柔軟なデプロイ戦略（サブシステム単位でのデプロイ）や、&lt;br&gt;
依存フレームワーク／ライブラリのアップグレード戦略を取れるよう配慮し、&lt;br&gt;
ソースの構成を変更しています。&lt;/p&gt;

&lt;p&gt;また、それに伴い、UI/UXの改善も徐々に行っています。&lt;/p&gt;

&lt;p&gt;今回はそのUIについてどんな改善が行われているか、
新しい顧客管理のUIを一部ご紹介します。&lt;/p&gt;

&lt;h2&gt;段階的開示とは&lt;/h2&gt;

&lt;p&gt;新しいUIでは顧客情報入力の際に、&lt;br&gt;
「段階的開示」を導入し、より入力を行いやすいように配慮されました。&lt;/p&gt;

&lt;p&gt;　 １）以前のUIでは、入力項目を比較的、一度に一覧で表示していたものを、
&lt;img src=&quot;/images/2016-07-18-stepwise-display/%E6%97%A7UI_%E9%A1%A7%E5%AE%A2%E7%AE%A1%E7%90%862016-07-18.png&quot; alt=&quot;旧UI顧客管理&quot;&gt;&lt;/p&gt;

&lt;p&gt;　 ２）新しいUIでは、必要最小限の情報→追加情報と、より段階的に入力しやすいように変更しました。
&lt;img src=&quot;/images/2016-07-18-stepwise-display/%E6%96%B0UI_%E9%A1%A7%E5%AE%A2%E7%AE%A1%E7%90%862016-07-18.png&quot; alt=&quot;新UI顧客管理&quot;&gt;&lt;/p&gt;

&lt;p&gt;段階的開示とは
「インターフェースデザインの心理学」という書籍で紹介されているように、&lt;br&gt;
&lt;code&gt;
 ”人がそのとき、その時点で必要としている情報だけを提供すること”
&lt;/code&gt;
です。&lt;/p&gt;

&lt;p&gt;人が一度に処理できる情報量は、&lt;br&gt;
少ないほどしっかり処理できますので、&lt;/p&gt;

&lt;p&gt;入力を段階的にすることで、&lt;br&gt;
入力項目の多さに圧倒されてしまう状況を防ぐことが目的としています。&lt;/p&gt;

&lt;p&gt;また「段階的開示」のその他の特徴として、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;大事なのは、クリックの回数が少ないことではありません。
&lt;br&gt;
クリックのたびに適切な情報を得ることができれば
&lt;br&gt;
ユーザーはクリックを苦だと思わず喜んでクリックします。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;各段階でユーザーが何を知りたがっているかが把握できていないと、
&lt;br&gt;
この手法は効果がありません。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ということが挙げられます。&lt;/p&gt;

&lt;p&gt;ユーザーがどの段階で何を求めているのか理解することが前提になっていますので、&lt;br&gt;
みなさんもお使いになられるときには、調査を十分に行うようにしましょう。&lt;/p&gt;

&lt;p&gt;（ALL-INをお使いの方で、この点について何かお気づきのことがございましたら、&lt;br&gt;
　ご一報よろしくお願い申し上げますm(_ _)m）&lt;/p&gt;

&lt;p&gt;本日は段階的開示についてご紹介させていただきました。&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;参照&lt;/h3&gt;

&lt;p&gt;・インタフェースデザインの心理学――ウェブやアプリに新たな視点をもたらす100の指針 (2012)&lt;br&gt;
　Susan Weinschenk　著、武舎 広幸、武舎 るみ、阿部 和也　訳　出版社: オライリージャパン
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;p&gt;さて、私は現在コックピット部分をより充実する部分に関わっています。&lt;br&gt;
今後、コックピット部分も随時様々なグラフが拡充されていき、&lt;br&gt;
UIも新しくなっていきます。&lt;br&gt;&lt;/p&gt;

&lt;p&gt;そこで、弊社ではよりユーザーの皆様にとって、&lt;br&gt;
使いやすく、わかりやすい製品になるように、&lt;br&gt;
特に、UI/UXデザインに精通した方を募集しております。&lt;br&gt;&lt;/p&gt;

&lt;p&gt;経営を判断するためのデータをよりわかりやすく表現、分析、&lt;br&gt;
活用するためのツールを一緒に作りませんか？&lt;/p&gt;

&lt;p&gt;↓↓&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジーや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>残業手当の計算式、割増率</title>
      <link>http://blog.all-in.xyz/2016/07/06/about-overwork-premium-rate</link>
      <pubDate>Wed, 06 Jul 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/07/06/about-overwork-premium-rate</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の高橋 慶太です。&lt;/p&gt;

&lt;p&gt;今回は、給与関連の話として、残業手当の割増率についてまとめてみました。&lt;/p&gt;

&lt;h2&gt;用語整理&lt;/h2&gt;

&lt;p&gt;まずは、残業に関連する用語についてまとめます。
&lt;table border=&quot;1&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th width=&quot;20%&quot;&gt;用語&lt;/th&gt;
      &lt;th width=&quot;80%&quot;&gt;解説&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;法定労働時間&lt;/td&gt;
      &lt;td&gt;労働基準法で定められている労働時間の限度。&lt;br/&gt;1週間あたり40時間。1日あたり8時間。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;所定労働時間&lt;/td&gt;
      &lt;td&gt;企業ごとに定められた規定の労働時間&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;法定内残業時間&lt;/td&gt;
      &lt;td&gt;所定労働時間が法定労働時間より短い場合に発生する残業時間&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;時間外労働時間&lt;/td&gt;
      &lt;td&gt;法定労働時間を超えて働いた時間&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;法定休日&lt;/td&gt;
      &lt;td&gt;法律で定められている最低限の休日&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;所定休日&lt;/td&gt;
      &lt;td&gt;法定休日以外に付与する休日&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;深夜労働時間&lt;/td&gt;
      &lt;td&gt;22:00〜5:00の間に働いた時間（地域によっては、23:00〜6:00の場合もあり）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;60時間超&lt;/td&gt;
      &lt;td&gt;「時間外労働時間、所定休日」に働いた時間の合計が60時間を超えた場合、賃金が割増となります。&lt;br/&gt;※尚、60時間を超えた場合の賃金割増については、現状では中小企業は免除されており、義務ではありません。ただし、平成31年4月1日からは中小企業についても義務化されます。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;&lt;/p&gt;

&lt;h2&gt;残業手当の計算式と割増率&lt;/h2&gt;

&lt;p&gt;各残業手当の計算は、
&lt;code&gt;「各労働・残業時間の時間数」×「各従業員の1時間あたりの賃金」×「割増率」&lt;/code&gt;
となります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2016-07-06-about-overwork-premium-rate/overwork_premium_rate.png&quot; alt=&quot;割増率まとめ&quot;&gt;&lt;/p&gt;

&lt;p&gt;※図に記載した％は、労働基準法で定められている最低限の割増率です。&lt;br/&gt;
 会社ごとに定める就業規則によっては、上記以外の割増率より多い設定にしている会社もあります。&lt;/p&gt;

&lt;h2&gt;残業手当の計算をするときのポイント&lt;/h2&gt;

&lt;h3&gt;1. 深夜労働手当&lt;/h3&gt;

&lt;p&gt;たとえば、通常の会社勤務（9:00〜18:00など）であれば、22:00以降に働いた分は、深夜労働手当が支払われることになります。&lt;br/&gt;
このとき、22:00までの残業分については「時間外労働」の割増率で計算され、22:00を超えた分については、「時間外労働 + 深夜労働」の割増率で計算されます。&lt;/p&gt;

&lt;h3&gt;2. 60時間超に含める勤務時間&lt;/h3&gt;

&lt;p&gt;上記の表の説明にも記載しましたが、月の残業時間が60時間を超えたかどうかを判断する際の対象なる日は「時間外労働時間と所定休日に働いた時間」です。&lt;br/&gt;
つまり、「法定休日に働いた時間は対象外」になりますのでご注意を。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>UITableViewの上にUIButtonをスクロールせず固定して表示する方法！</title>
      <link>http://blog.all-in.xyz/2016/06/20/how-to-put-button-on-tableview-which-will-not-scroll-with-table</link>
      <pubDate>Mon, 20 Jun 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/06/20/how-to-put-button-on-tableview-which-will-not-scroll-with-table</guid>
      <description>&lt;p&gt;&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/apps.png&quot; alt=&quot;Apps&quot;&gt;&lt;/p&gt;

&lt;p&gt;こんにちわ！
Railsエンジニアの &lt;a href=&quot;https://twitter.com/hbd225&quot;&gt;@hbd225&lt;/a&gt; です。&lt;br&gt;
最近は仕事のあとswift書いてたりですので、swiftネタです！&lt;/p&gt;

&lt;p&gt;初めてAirbnbのアプリを見たときは細かいところまでUIが作り込まれててすごいなーと感動したものですが、Airbnbの検索アイコンやメルカリの出品ボタンなど、UITableViewの上にボタンがスクロールされず固定されて表示されてる感じの素敵なUIをよく見かけますので、実装方法について調べてみました！&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;先に結論&lt;/h2&gt;

&lt;p&gt;UITableView のセル上に直接ボタンを追加しても、スクロールすると画面外に消えてしまいますので、ContainerView を配置して Embed segue で UITableView を繋いで実装することで、ContainerView の上に固定されてスクロールしない UIButton を追加することができるようになります。&lt;/p&gt;

&lt;p&gt;画面のスクロールに合わせて UIButton の表示/非表示を切り替える際には、プロトコルを定義して UITableView のスクロールイベントを ContainerView 側の ViewController に通知する実装にしてみてます！&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;プロジェクト作成&lt;/h2&gt;

&lt;p&gt;今回は SingleViewApplication を使ってプロジェクト作成しますー。
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/1.png&quot; alt=&quot;Storyboard1&quot;&gt;&lt;/p&gt;

&lt;h2&gt;Storyboard から ContainerView を ViewController に追加&lt;/h2&gt;

&lt;p&gt;ContainerView は他の ViewController からも再利用が可能なViewを作るときに重宝するViewで、 &lt;a href=&quot;http://crossbridge-lab.hatenablog.com/entry/2015/12/10/125749&quot;&gt;こちらの記事&lt;/a&gt; が分かりやすいです！
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/2.png&quot; alt=&quot;Storyboard2&quot;&gt;&lt;/p&gt;

&lt;h2&gt;UITableView を実装&lt;/h2&gt;

&lt;p&gt;ContainerView を追加すると自動的に ViewController も追加されて繋がれていますが、そちらは一旦削除して、UITableView を好きなように実装し、Embed segue で繋ぎます。
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/3.png&quot; alt=&quot;Storyboard3&quot;&gt;&lt;/p&gt;

&lt;h2&gt;UIButton を 追加&lt;/h2&gt;

&lt;p&gt;Storyboard から ContainerView の上に UIButton を追加し、Constraints を設定してボタンの位置など調整します。
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/4.png&quot; alt=&quot;Storyboard4&quot;&gt;&lt;/p&gt;

&lt;h2&gt;実機で見てみる&lt;/h2&gt;

&lt;p&gt;UIButton がスクロールしても固定されて表示されました！&lt;br&gt;
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/play1.gif&quot; alt=&quot;Device&quot;&gt;&lt;/p&gt;

&lt;h2&gt;スクロールの際に UIButton の表示/非表示を切り替える&lt;/h2&gt;

&lt;p&gt;スクロールダウン時はユーザーはコンテンツを見たいと思いますので UIButton を非表示にし、&lt;br&gt;
スクロールアップの時に UIButton を表示するようにしましょう！&lt;/p&gt;

&lt;p&gt;まずは UITableView 側の ViewController にプロトコルを定義して delegate 変数を用意します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// スクロールの発生を検知してUIButtonの表示を切り替えるためのプロトコル&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ArticleViewControllerDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidscrolledUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidscrolledDown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ArticleViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIViewController&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArticleViewControllerDelegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// スクロールの開始点&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;scrollBeginingPoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;CGPoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// ドラッグしてスクロールが発生する直前に呼び出される&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrollViewWillBeginDragging&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;scrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIScrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;scrollBeginingPoint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentOffset&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// スクロールが発生している間常に呼び出される&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrollViewDidScroll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;scrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIScrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currentPoint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrollView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentOffset&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrollBeginingPoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;currentPoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;scroll to bottom&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewDidscrolledDown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;scroll to top&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewDidscrolledUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 以下にUITableViewのための実装などなど...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ArticleViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UITableViewDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ArticleViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UITableViewDataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;続いて ContainerView 側の ViewController にプロトコルを実装します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-swift&quot; data-lang=&quot;swift&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIViewController&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// UIButton の表示/非表示を管理&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;isButtonDisplayed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;

    &lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;IBOutlet&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;addPictureButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIButton&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 先ほど実装した UITableView 側の ViewController の delegate に self を設定&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepareForSegue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;segue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;UIStoryboardSegue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AnyObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;segue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ArticleViewControllerSegue&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;segue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;destinationViewController&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArticleViewController&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;vc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 以下にviewDidLoad などの処理...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// スクロール発生時に通知されるプロトコルを実装&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;ViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArticleViewControllerDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// スクロールアップ時に UIButton を表示する&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidscrolledUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isButtonDisplayed&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;addPictureButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hidden&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;isButtonDisplayed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// スクロールダウン時に UIButton を非表示にする&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewDidscrolledDown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isButtonDisplayed&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;addPictureButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hidden&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;isButtonDisplayed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;もう一度実機で見てみる&lt;/h2&gt;

&lt;p&gt;スクロールの発生によって UIButton の表示/非表示が切り替わりました！&lt;br&gt;
&lt;a href=&quot;https://github.com/MengTo/Spring&quot;&gt;Spring&lt;/a&gt; を使ってきれいにアニメーションをつけてあげるとなお良しですね！
&lt;img src=&quot;/images/2016-06-20-how-to-put-button-on-tableview-which-will-not-scroll-with-table/play2.gif&quot; alt=&quot;Device&quot;&gt;&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>新卒エンジニアの成長履歴</title>
      <link>http://blog.all-in.xyz/2016/06/06/new_graduates_blog</link>
      <pubDate>Mon, 06 Jun 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/06/06/new_graduates_blog</guid>
      <description>&lt;p&gt;はじめまして！エンジニアの清水恭子です。&lt;/p&gt;

&lt;p&gt;今年の春から新卒エンジニアとして
ビジネスバンクグループに入社致しました！&lt;/p&gt;

&lt;p&gt;学生のときプログラムを少し勉強していましたが、
まだまだわからないことばかりでございます、、&lt;/p&gt;

&lt;p&gt;現在は研修を受けながら、
基礎からしっかり学ばせていただいております！！！&lt;/p&gt;

&lt;p&gt;今回は、研修を通して学んだことの中で自分なりに
「これは大事。忘れたくない！」と思ったことを
新卒目線で紹介させていただきます。&lt;/p&gt;

&lt;p&gt;【研修内容】&lt;/p&gt;

&lt;p&gt;現在私は、ネットショッピングの機能でよくある
「ショッピングカート」のwebアプリケーションを作っています。&lt;/p&gt;

&lt;p&gt;そして作ったアプリケーションをサーバー上にあげ、
会社内でアクセスできる状態を作り、&lt;/p&gt;

&lt;p&gt;最後にアプリケーションのテストを行い、
より精度の高いものにしよう！といった内容です。&lt;/p&gt;

&lt;p&gt;言語はruby、フレームワークはrailsを使用しています。&lt;/p&gt;

&lt;p&gt;【学んだ心得】&lt;/p&gt;

&lt;h2&gt;1.　インターネットの仕組みからしっかり理解する&lt;/h2&gt;

&lt;p&gt;パソコンってどうやって動いていて
どうしてインターネットは利用できているのか、、、
と考えると今まで当たり前に使いすぎていてわからないことばかりでした。&lt;/p&gt;

&lt;p&gt;しかし、こういったパソコンの基礎となる知識を勉強していくと
普段パソコン通じて行っている動作とリンクされ、
理解度も深まりシステムを作る上でも大いに役立ちました。&lt;/p&gt;

&lt;p&gt;特に、ページ遷移を考えるときやサーバ構築の際に
どんな通信を行ってどんな情報を受け渡ししているのか、、や、
サーバのやり取りはどうすればよいか、、、などを
考えなくてはならなかったので役に立ちました。&lt;/p&gt;

&lt;p&gt;何より、「パソコンって具体的に何をしてるかよくわからない」
という状態から少し抜け出せたことにより、苦手意識も薄まりました。&lt;/p&gt;

&lt;h2&gt;2.　いろんな観点で物事をみる&lt;/h2&gt;

&lt;p&gt;普段、私たちはシステムを使う側の「ユーザー」です。
今回アプリケーションを作る際、
ついつい「ユーザー」目線ばかりで作ってしまうことが多くありました。&lt;/p&gt;

&lt;p&gt;システムはそれ自体を利用する「ユーザー」と
それらを運営する「オーナー」と両方がいます。&lt;/p&gt;

&lt;p&gt;ユーザー目線でUIやUXを考えることはとても大事なことですが、
両者が使いやすいシステムを作らなければ、よいシステムとは言えません。&lt;/p&gt;

&lt;p&gt;そして「オーナー」側の目線になってシステムの機能を考えるのが意外と難しかったです。&lt;/p&gt;

&lt;p&gt;特に、アプリケーションのセキュリティ問題や、
DBを使用する際に「オーナー」側で蓄積したほうが良い情報の分析など、
普段あまりそういった観点でシステムやサービスを見る機会がなかったので、
普段から経営側の物の見方を習慣つけたいです。        &lt;/p&gt;

&lt;p&gt;また、いろんな観点で物事を見ることは
自分の固定概念をとっぱらってくれるきっかけにもなり、
新しいものの見方や気づかなかった見落としなど新しい発見が生まれました。&lt;/p&gt;

&lt;h2&gt;3.　なんとなくが一番こわい&lt;/h2&gt;

&lt;p&gt;便利な機能や関数が多いものは、
ちょっと仕組みを理解してルール通りにプログラムをしていけば
アプリケーションが動いてたということも多々あります。&lt;/p&gt;

&lt;p&gt;また、サーバ構築をする際にも何のコマンドかよくわからないけど
なんとなくコマンドを叩いたら設定できたこともあります。&lt;/p&gt;

&lt;p&gt;しかし、どうしてそうなったのかを理解していないと、
結局エラーがでたときに原因がわからず詰まってしまいます。&lt;/p&gt;

&lt;p&gt;すべてを一度に理解することは難しいですが、
対象となるコマンドや機能が「何のために」「何を利用して」動いているのかは
把握するようにしていくことを心がけています。&lt;/p&gt;

&lt;p&gt;また、エラーが解決できたらどうしてできたかをまとめたり、
参照したものがあれば参考文献なども一緒にまとめておくと
後で見直したときに便利だと思います！&lt;/p&gt;

&lt;p&gt;「わかりません！！」と堂々と言えるのは、
この新卒の時期だけだと思うので
今のうちから理解できないことはこまめに解消するくせをつけたいです。&lt;/p&gt;

&lt;h2&gt;4.　学ぶことに貪欲に！&lt;/h2&gt;

&lt;p&gt;「どんな人がエンジニアとしてのびるのか」と、
いろんな方に聞いてみると共通していることが
「学ぶことに貪欲になれる人」だと思います。&lt;/p&gt;

&lt;p&gt;与えられた仕事以外に自分で何が取り組める人、
何か問題にぶつかったときに先ずは自分で原因を見つけ出そうと努力できる人。&lt;/p&gt;

&lt;p&gt;とにかく、自分で色々と行動して考えられるひとが伸びると聞きます。&lt;/p&gt;

&lt;p&gt;エンジニアって変化の激しい業界で常に違うことを行っていて、
それを楽しみながら学べるひとが強いということですね！&lt;/p&gt;

&lt;p&gt;私も、自分からアクションをかけてスキルアップにつなげたいです！！&lt;/p&gt;

&lt;p&gt;以上です^^&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>御茶ノ水オフィスお引越し&開発のオフィス環境について</title>
      <link>http://blog.all-in.xyz/2016/01/13/moving-and-office-environment</link>
      <pubDate>Wed, 13 Jan 2016 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2016/01/13/moving-and-office-environment</guid>
      <description>&lt;p&gt;こんにちは、開発2年目エンジニアの
&lt;a href=&quot;https://twitter.com/&quot;&gt;岩﨑 俊貴&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;年明け初めての投稿ということで、&lt;br/&gt;
新年あけまして、おめでとうございます。&lt;br/&gt;
本年もよろしくお願い致します。&lt;/p&gt;

&lt;p&gt;さて、実は１月末で開発のオフィスが引越しを行います。&lt;br/&gt;
今は東京の開発オフィスは御茶ノ水にオフィスがあるのですが、本社のある外苑前へ統合します。&lt;/p&gt;

&lt;p&gt;ということで、今日は開発を行う上でのオフィス環境について記事を書きたいと思います。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;最初は本社で開発を行っていた。&lt;/h2&gt;

&lt;p&gt;私が入社した2014年4月には開発はありませんでしたので、&lt;br/&gt;
私が半年たった頃ぐらいから開発のメンバーとなり、&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;開発を開始し始めた時はまだ営業の電話が鳴り響く中、&lt;br/&gt;
新卒ということもあり、電話を取りながら開発をしていました…&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;そんな中、開発に集中できる場所をということで
御茶ノ水オフィスができました。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;御茶ノ水オフィスでよかったこと&lt;/h2&gt;

&lt;p&gt;オフィスに何もない状態からもの、体制を整えて、自由にできたことが良かったなと思います。&lt;/p&gt;

&lt;p&gt;例えば、私はバランスボールを使っています。&lt;br/&gt;
開発以外だと、バランスボールで仕事をしている人はなかなかいないと思いますので、&lt;br/&gt;
明日からバランスボールで仕事します！とはなかなかなりにくいですよね笑&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;枠の外から考えて、いいものを取り入れながら実行していく。&lt;/p&gt;

&lt;p&gt;ものひとつとってもそうでしたが、開発体制など、&lt;br/&gt;
すでにあるものではなく、新しく必要なもの事を考えたり、導入したりという毎日でした。&lt;/p&gt;

&lt;p&gt;ちなみに、バランスボールは&lt;br/&gt;
結構お気に入りですので本社にも持っていく予定です。笑&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;本社のスペースを変更し、開発と開発以外のメンバーとを同じスペースに&lt;/h2&gt;

&lt;p&gt;開発以外のメンバーともコミュニケーションを生みやすくする。&lt;/p&gt;

&lt;p&gt;そのために御茶ノ水開発オフィスは本社に統合されます。&lt;/p&gt;

&lt;p&gt;レイアウトやスペースがどのように変わるか、変えていくか、&lt;/p&gt;

&lt;p&gt;生産性、やる気がアップする環境にしていきたいものです^^&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;生産性、やる気の上がる環境は確かに存在する&lt;/h2&gt;

&lt;p&gt;今後の参考にいろんな会社さんの例を集めてみました。&lt;/p&gt;

&lt;p&gt;たとえば、下記記事ですと、
- &lt;a href=&quot;http://hirokitakaba.github.io/blog/2015/03/02/office/&quot;&gt;エンジニアはもっとクリエイティブな環境で働くべき&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;生産性が上がる
 - 効率が上がる
 - 集中できること
 - 機能的であること
 - コミュニケーションを生むこと

モチベーションが上がる
 - リラックス、気分転換できること
 - 洒落ていること
 - ワクワクすること
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上記あたりは特にそうだなと思いました。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://liginc.co.jp/186856&quot;&gt;【株式会社サイバード編】モチベーションを刺激する、イケてるベンチャー企業のオフィスづくりとは？&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hrnabi.com/2014/04/15/250/&quot;&gt;「ここで働きたいからエンジニアになる」とまで言わせたワンオブゼムのオフィスがすごい&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.atmarkit.co.jp/ait/articles/0906/22/news102.html&quot;&gt;ITエンジニアを変えるオフィス（1）&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
なども参考になりそうです。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;開発人数が増え、開発以外のメンバーも増えていく中でどのような環境が良いのか…&lt;/h2&gt;

&lt;p&gt;引き続き探っていこうと思います。&lt;/p&gt;

&lt;p&gt;「今のオフィスのここがいい」&lt;br/&gt;
「どんなオフィスだったらもっと仕事したくなる？」&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;など、聞いてみたり、
機会があれば訪問したりすることにします。&lt;/p&gt;

&lt;p&gt;岩崎&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>AngularJS $apply()と$digest()について</title>
      <link>http://blog.all-in.xyz/2015/12/26/understanding-angulars-apply-and-digest</link>
      <pubDate>Sat, 26 Dec 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/12/26/understanding-angulars-apply-and-digest</guid>
      <description>&lt;p&gt;ビジネスバンクグループエンジニアの
&lt;a href=&quot;https://twitter.com/kurisankaku&quot;&gt;栗山 宗久&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;弊社で開発しているALLINアプリケーションのフロントではAngularJSを使用しています。
AngularJSを使用することでデータバインドを簡単に行うことができ、クリックなどのイベント処理も容易に行うことができます。
また、AngularJS用のライブラリも多く存在します。&lt;/p&gt;

&lt;p&gt;しかし、AngularJSを用いない生のjqueryのライブラリを使用したい時があります。
AngularJSの管轄としていないところでデータを変動させるとViewが思ったタイミングでレンダリングしなかったりします。
では、どうすればいいのでしょうか？&lt;/p&gt;

&lt;p&gt;そこで、$applyを使用します。
　  &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;$applyを使用し、$digestのサイクルを開始させる&lt;/h2&gt;

&lt;p&gt;前回の&lt;a href=&quot;/2015/11/06/understanding-life-cycle-scope&quot;&gt;記事&lt;/a&gt;でも書きましたが、AngularJSにデータの変更を通知し、
Viewを再描画するには$digestのサイクルを実行しなければなりません。&lt;/p&gt;

&lt;p&gt;そのために、scopeに紐づく$digest()を直接実行するということもできますが、親scopeには通達されませんので、あまり使用しません。(独立したscopeを持ったHTMLを使用する場合には利用したりもします。directiveとかです。)&lt;/p&gt;

&lt;p&gt;$digest()を直接実行する代わりに、$apply()を実行します。$apply()は内部で$root.$digest()を実行し、rootでdigestのサイクルを実行した後、順々に全ての子scopeのwatchを実行していきます。&lt;/p&gt;

&lt;p&gt;次に、$applyの利用方法について見ていきます。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;$applyの使用方法&lt;/h2&gt;

&lt;p&gt;setTimeout()を使用し、sopeのmodelを変更するとします。下記例のように$applyを使用せずscope.messageの値を変更してもViewのmessageは変更されません。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getMessage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;message:&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
          &lt;span class=&quot;c1&quot;&gt;// AngularJS unaware of update to $scope&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;scopeのmodelが変更されたことを通達するために、$applyを使用し、下記のように実装します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getMessage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;message:&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これでsetTimeoutで設定した時間が経過するとViewのmessageが意図した表記に変わります。&lt;/p&gt;

&lt;p&gt;ここで注意して欲しいことがあります！
　&lt;br&gt;
それは、$digestのサイクルの実行中に$applyを実行してはいけないということです。&lt;/p&gt;

&lt;p&gt;実行した場合、&lt;code&gt;Error: $digest already in progress&lt;/code&gt;というエラーが起きてしまいます。
これを解決するにはどうすればいいでしょうか。&lt;/p&gt;

&lt;p&gt;検索すると、下記方法で解決するといいという例が出てきたりします。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;// bad practice!!&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$$phase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;しかし、これは&lt;a href=&quot;https://github.com/angular/angular.js/wiki/Anti-Patterns&quot;&gt;ドキュメント&lt;/a&gt;にのっているように使用すべきでない、Bad Practiceです。
　&lt;br&gt;
これを解決する手段として、$timeoutか$evalAsyncがあります。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;$timeout&lt;/h2&gt;

&lt;p&gt;$timeoutを指定すると、実行している$digestのサイクルが完了した後で$timeoutのコールバックを実行するという仕組みになっています。
$timeoutは内部で$applyを実行するので、エラーを起こさずに$applyを実行することができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;nx&quot;&gt;$timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// Any code in here will automatically have an $scope.apply() run afterwards&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;myvar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// And it just works!&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h2&gt;$evalAsync&lt;/h2&gt;

&lt;p&gt;$evalAsyncを指定すると、$evalAsyncの実行は&amp;quot;async queue&amp;quot;に渡され、評価されます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$evalAsync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// Any code in here will automatically have an $scope.apply() run afterwards&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;myvar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// And it just works!&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h2&gt;$timeoutと$evalAsyncのどちらを使用するべきか？&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/17301572/angularjs-evalasync-vs-timeout#28289193&quot;&gt;stackoverflow&lt;/a&gt;と&lt;a href=&quot;http://www.bennadel.com/blog/2605-scope-evalasync-vs-timeout-in-angularjs.htm&quot;&gt;ブログ&lt;/a&gt;にも書いてありますが、場合を分けて使用するべきです。
動作の違いも詳しく書いてあるので、是非参考にしてください。(色々な意見があるので、どれが正しいかは実装してみてって感じですね)&lt;/p&gt;

&lt;p&gt;次回の私の担当記事ではAngularとは違う話をするのでお楽しみに〜。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>(AngularJS, JQuery) Enterキーでフォーカスを遷移させるディレクティブを作る</title>
      <link>http://blog.all-in.xyz/2015/12/18/how-to-move-focus-by-enter-key</link>
      <pubDate>Fri, 18 Dec 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/12/18/how-to-move-focus-by-enter-key</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の高橋 慶太です。&lt;/p&gt;

&lt;p&gt;今回は、Enterキーでフォーカスを遷移させるAngularJSのディレクティブの作り方について書きたいと思います。&lt;/p&gt;

&lt;h1&gt;コード&lt;/h1&gt;

&lt;p&gt;早速ですが、コードはこんな感じになります。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;  // HTML
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ng-app=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;app&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  ・・・
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sample_text1&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;tabindex=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;move-focus-by-enter-key&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sample_text2&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;tabindex=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;move-focus-by-enter-key&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  ・・・
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;// AngularJSのDirective&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;app&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;directive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;moveFocusByEnterKey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;keydown keypress&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;textarea:enabled:visible,&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
                  &lt;span class=&quot;s1&quot;&gt;&amp;#39;input:enabled:visible:not([readonly]),&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
                  &lt;span class=&quot;s1&quot;&gt;&amp;#39;select:enabled:visible,&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
                  &lt;span class=&quot;s1&quot;&gt;&amp;#39;button:enabled:visible&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

              &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;shiftKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;altKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                  &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
                  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                      &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                      &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;コード解説&lt;/h1&gt;

&lt;h2&gt;JQueryのセレクタを使って対象のタグを絞り込む&lt;/h2&gt;

&lt;p&gt;HTMLタグには、input、div、select・・・などなど色々なものがあるので、&lt;br/&gt;
まずはその中でも「フォーカス遷移可能」なものを検索します！&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;// 検索条件&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;textarea:enabled:visible,&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&amp;#39;input:enabled:visible:not([readonly]),&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
      &lt;span class=&quot;s1&quot;&gt;&amp;#39;select:enabled:visible,&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&amp;#39;button:enabled:visible&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;・・・&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// 検索処理&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上記は、JQueryのセレクタを使った検索処理です。&lt;br/&gt;
（JQueryのセレクタ： &lt;a href=&quot;http://semooh.jp/jquery/api/selectors/&quot; target=&quot;_blank&quot;&gt;http://semooh.jp/jquery/api/selectors/&lt;/a&gt;&amp;gt;）&lt;/p&gt;

&lt;p&gt;活性＆表示されているタグのみフォーカスを当てるようにするため、&lt;/br&gt;
「:enabled」「:visible」「not([readonly])」のような条件で絞り込んでいます。&lt;br/&gt;
※AngularJSでいうと、ng-disabled、ng-hide、ng-readonly属性に対応する処理です！&lt;/p&gt;

&lt;p&gt;条件が漏れると、遷移先のタグが表示されていないために、フォーカスがどこにも&lt;br/&gt;
当たらなくなってしまいます。。。&lt;/p&gt;

&lt;h2&gt;キーイベントを拾う&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;keydown keypress&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;・・・&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上記の記述で、押されたキーの値が変数keyCodeに値が設定されます。&lt;br/&gt;
ちなみに、Enterキーは13です。&lt;/p&gt;

&lt;h2&gt;Enterキー押下時、次にフォーカス遷移するエレメントを探す&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;shiftKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;altKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ここでポイントとなるのは、「!event.shiftKey &amp;amp;&amp;amp; !event.altKey」の条件の部分です。&lt;br/&gt;
Shift+Enterキー、Alt+Enterキー押下時は、異なる動作をしたいため、&lt;br/&gt;
上記if文の処理から除外しています。&lt;/p&gt;

&lt;p&gt;Shift+Enterキー→フォーカスを戻す処理&lt;br/&gt;
Alt+Enterキー→textarea内の改行処理&lt;/p&gt;

&lt;p&gt;ちなみに、tabindexの値がマイナスの場合はフォーカス遷移させないようにする必要があるので、&lt;br/&gt;
「this.tabIndex &amp;gt;= 0」の条件も必要です！&lt;/p&gt;

&lt;h2&gt;Shift+Enterキー押下時にフォーカスを1つ前に戻す&lt;/h2&gt;

&lt;p&gt;最初にご紹介したコードに下記のコードを加えると、Shift+Enterキーを押したときに&lt;br/&gt;
フォーカスを戻す処理ができます。&lt;br/&gt;
（符号が一部異なるだけなので、もっとスマートに書けるはずっ！）&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keyCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;shiftKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;altKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;targetElementsCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;destinationTabIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tabIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Alt+Enterキーでtextarea内改行&lt;/h2&gt;

&lt;p&gt;「!event.altKey」を条件を加えることで、Alt+Enterキーが押されたときは、&lt;/br&gt;
上記のif文の処理がスルーされます。&lt;br/&gt;
スルーされると、このディレクティブを使わない場合と全く同じ処理が行われることなります。&lt;/br&gt;
この性質を利用し、textarea内にて改行させることができます！&lt;/p&gt;

&lt;h2&gt;spaceキーでボタン押下処理&lt;/h2&gt;

&lt;p&gt;ボタンをフォーカス遷移に含めていると、これもエンターキーでフォーカス遷移されちゃいます。&lt;br/&gt;
この場合、ボタンにフォーカスが当たっている状態でスペースキーを押すことで、&lt;br/&gt;
ボタン押下することができます。&lt;br/&gt;
ちなみに、上記のコードの場合、フォーカス遷移の一番最後にボタンが配置されていた場合は、&lt;br/&gt;
エンターキーでもボタンが押せます。&lt;/br&gt;
「tabindex順に入力していって最後に保存！」「途中にボタンはないよ！」というような画面では、&lt;br/&gt;
この話は気にしなくて良いですね！&lt;/p&gt;

&lt;h2&gt;フォーカス遷移&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;  &lt;span class=&quot;nx&quot;&gt;$list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destinationListIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上記でフォーカスを当てることができます。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>How we built the ALL-IN menu</title>
      <link>http://blog.all-in.xyz/2015/12/08/how-to-build-the-ALL-IN-menu-from-a-svg-file</link>
      <pubDate>Tue, 08 Dec 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/12/08/how-to-build-the-ALL-IN-menu-from-a-svg-file</guid>
      <description>&lt;p&gt;In order to build the menu for ALL-IN we opted for using the SVG format. It’s possible to create curved tabs in full css using rounded corners but an image provides more design possibilities in our case.&lt;/p&gt;

&lt;p&gt;Therefore we chose SVG as this format compresses well and we can control the size of the image or its colours through css.&lt;/p&gt;

&lt;h4&gt;First we need to create the SVG file.&lt;/h4&gt;

&lt;p&gt;We got first an Illustrator files from where we extracted the piece of image that we intended to use to build the menu.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-12-08-how-to-build-the-ALL-IN-menu-from-a-svg-file/menu-1.jpg&quot; alt=&quot;ALL-IN menu&quot;&gt;&lt;/p&gt;

&lt;p&gt;We isolated the image and cropped the artboard to its limits.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-12-08-how-to-build-the-ALL-IN-menu-from-a-svg-file/menu-2.jpg&quot; alt=&quot;ALL-IN menu&quot;&gt;&lt;/p&gt;

&lt;p&gt;Then we save the file choosing the SVG options available form Illustrator.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-12-08-how-to-build-the-ALL-IN-menu-from-a-svg-file/menu-3.jpg&quot; alt=&quot;ALL-IN menu&quot;&gt;&lt;/p&gt;

&lt;h4&gt;File usage :&lt;/h4&gt;

&lt;p&gt;There are different ways to use an SVG file.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;As an image (img) tag :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&amp;lt;img src=&amp;quot;image.svg&amp;quot; alt=&amp;quot;title&amp;quot; id=&amp;quot;imgsvg&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then we can control some of it through CSS like :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;#imgsvg {
    width: 100px;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As a a background-image :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&amp;lt;span id=&amp;quot;imgsvg&amp;quot;&amp;gt;test&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and control also from css :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;#imgsvg {
    width: 100px;
    height: 100px;
    background-color: #fff;
    background: url(image.svg);
    background-size: 100px 100px;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Support differs from the browsers, for ALL-IN we support only Chrome at the moment. But you can use some png files to replace where SVG is not supported.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can use SVG files inline also : just copying the text produced by Illustrator on saving. This is the choice we opted for. Here is our optimized slim code :&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;svg#Layer_1.style0 version=&amp;quot;1.1&amp;quot; viewbox=(&amp;quot;0 0 158 56&amp;quot;) x=&amp;quot;0px&amp;quot; xml:space=&amp;quot;preserve&amp;quot; xmlns=&amp;quot;http://www.w3.org/2000/svg&amp;quot; xmlns:xlink=&amp;quot;http://www.w3.org/1999/xlink&amp;quot; y=&amp;quot;0px&amp;quot; 
    css:
      .style0 { enable-background: new 0 0 158 56; width:160px; margin-top: -6px; }
      .style1 { overflow: visible; opacity:  0.1; } 
    g#XMLID_98_
      image#XMLID_19_.style1 height=&amp;quot;56&amp;quot; width=&amp;quot;158&amp;quot; xlink:href=&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAA4CAYAAAAMwEGIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA GXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABEZJREFUeNrsnVtPE1EUhc/0BoUW BBEkgoaIRuOLaOTBRI3xh/sfNBHjJSYa411rtUUYaN3bWceeDqMUmOnMtGslK6ctmNjMl305Nzxz dHmhkUpe3dCYe3lH+D3rsriCkfANBzpfvIuxOwogDgJOAZBNwqfEi+IZcYnwJQ7dnrgp/ij+DvjU O/hZJ48AHgZNUVwVnxGfA3A6rouXxBNkI3EpYB/ELzG2AOB78Ve89/MGoDcAdCviG+Kb4guAcAkR r0wuEpcfingtAPhU/Fz8WvwlbwB6h0C3Kr4lvg/4FvH5BGu81Go8HwC+AXiPQwD+dADMFXhh6B5g XMHnBafRoIbf1VoQWwDttQPgM/ErRMdt8X5Wv1AxopGYAmSbDnQK4TR+n9ClEyCsC3gOmnXq4tPi s+JlvPYApQWvm3XwPEyTLDuRbhPQTeELU9kBMQrABWQlHym3nVX4iqHX2jBcBXS3xecR6Qhd9gGc xLOaAYw7WYav+I9od0d8CV+iyOebGwDLyE61rMNXjIh298QbmDZh55o/AEsR8P1AzbeXFfhKzn92 3gQTw+uoFwhdPmUbxFW87wA4nY55izF1+GyXOgXg7ppgopjRbjQiXxXPVpuNT+JviICZAK+AovQi GorLSLtsKEYDvhLqO4XuM2q+1FOuG/HWTLA6sYb3jHajBV8XtZ4C2DIpr2xY8KqYOrmOsUrwRqrb raDRyEzKJXjjAV8xaymX4DHldggeNTYpl+Ax5aaScgkeU24qKZfgMeWmknIJHlOuTbktM8SNBASP KVfVRtptD6veK/EZjC14uhavZ2g2TP+RyaFsJCB44yv3mINGOT1ApGc1mki/iZ7XYKpl5CulUe8R PCpc722b3sbRfYJHJQmenWKZxuib3o5lG/m6BI9KKurpc6+j9isDyH00G7GmXoJHRcE3Z4JrSubx eTvu1MuulorqdPViJt2FrtMts4h+yso71H8nviKDEY+KinzuOd06xjI+d1MvwaMSaTjsOV2beufw +a7pv5vPI3hUEnXfNKBbQAqumN7RWHuTgXEgjLJxmWKNRw1S91UAnk2/eknQFRPc0adLbLrDRe/s a6L+C8ue7f1lIyXBo45S99nGYxaZ8ZoJVjoUvheAbyf0b7tIzXp7qb3Dzyd41HGin96DXUPXq1Gs gTKtaQ7ubtHXusv5ifihwc2lBI86bvSzzUcNEXDZ9G6lD6fZBj5/ZGtDgkedBEDPiYQTJnplw873 1U1vNYTNBRUbhOY/MyEHri/m/ShUasUiRRE8iuBRFMGjCB5FETyK4FHUwHInkO2Bjo7J+B9go3Il y1PfgaGS80NdZ9NtzQ1GQypm8BomtGXeXlelOwp0u8qWCZY1aoYbQal4ZHenbIGxP7tX7PqZLt7q H1XRPVZ6sqhC8KgYwTuwH8/dXaDRbxIj0ywVd7rt24HsRrXDdhhQ1Ekj39/xtwADAGVNN1ASqbBi AAAAAElFTkSuQmCC&amp;quot; 
      g#XMLID_12_
        path#XMLID_18_ d=(&amp;quot;M147.8 40c-29.2-9.9-18.4-36-52.1-36H18.3c-8.2 0-15 6.6-15 14.8v34.8h151.3V40H147.8z&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The slim code (that we use to produce the HTML) is in its own file and is included where needed, to keep a cleaner code base. (We use some customs AngularJS directives to build and control the menu but I am just presenting the html and css part of it here).
Being online we gain more control through CSS thanks to SVG custom property like for example &amp;quot;fill&amp;quot; to control the background color.
We can use also special stylesheet dedicated to the SVG object through &lt;code&gt;&amp;lt;style&amp;gt;&lt;/code&gt; tag.&lt;/p&gt;

&lt;p&gt;Here is a codepen reproducing the ALL-IN menu HTML/CSS structure.&lt;/p&gt;

&lt;p data-height=&quot;268&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;eJmMBY&quot; data-default-tab=&quot;result&quot; data-user=&quot;JeromeSadou&quot; class=&#39;codepen&#39;&gt;See the Pen &lt;a href=&#39;http://codepen.io/JeromeSadou/pen/eJmMBY/&#39;&gt;eJmMBY&lt;/a&gt; by Jerome Sadou (&lt;a href=&#39;http://codepen.io/JeromeSadou&#39;&gt;@JeromeSadou&lt;/a&gt;) on &lt;a href=&#39;http://codepen.io&#39;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;

&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Note in the Sass tab also how we use the font-awesome icons that we control through css and custom classes.&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>残業時間と残業代について</title>
      <link>http://blog.all-in.xyz/2015/11/28/about_overtime_work</link>
      <pubDate>Sat, 28 Nov 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/11/28/about_overtime_work</guid>
      <description>&lt;p&gt;エンジニアの伊藤です。&lt;/p&gt;

&lt;p&gt;業務系のシステムを作るには、当然その分野の業務知識が不可欠です。そこで、ここでは給与計算にも、そして皆さんの給与明細書にも深く関わる「残業」についてまとめておこうと思います。&lt;/p&gt;

&lt;p&gt;まず残業の話に入る前に、給与業務の大原則、給与の支払いについて簡単に触れておきましょう。&lt;/p&gt;

&lt;h2&gt;賃金支払いの5原則&lt;/h2&gt;

&lt;p&gt;労働基準法 第二十四条では、賃金の支払いについて、
「賃金は、通貨で、直接労働者に、その全額を支払わなければならない。」「賃金は、毎月一回以上、一定の期日を定めて支払わなければならない。」と定めています。&lt;/p&gt;

&lt;p&gt;これは一般的に賃金支払いの５原則として簡単には以下のように解釈されます。&lt;/p&gt;

&lt;p&gt;１. 通貨払いの原則&lt;/p&gt;

&lt;p&gt;　賃金は原則として、通貨で支払われなければなりません。現物支給や小切手、商品券などでの支払いは禁じられています。労働者の同意を得た場合、労働者の指定する銀行その他の金融機関の本人名義の口座に振り込むことはみとめられています。&lt;/p&gt;

&lt;p&gt;２. 直接払いの原則&lt;/p&gt;

&lt;p&gt;　賃金は原則として、直接労働者本人に支払われなければなりません。他人を介して支払ったり、未成年者の賃金についても親権者又は後見人が代わって受け取ることはできません。&lt;/p&gt;

&lt;p&gt;３. 全額払いの原則&lt;/p&gt;

&lt;p&gt;　賃金は、その全額を支払わなければなりません。事業主の都合で勝手に差し引いたりしてはいけません。&lt;/p&gt;

&lt;p&gt;４. 毎月一回以上の原則&lt;/p&gt;

&lt;p&gt;　賃金は、毎月一回以上支払わなければなりません。年俸制の場合も分割して毎月１回以上支払う必要があります。例外として、賞与や退職金など臨時に支払われる賃金があります。&lt;/p&gt;

&lt;p&gt;５. 一定期日払いの原則&lt;/p&gt;

&lt;p&gt;　賃金は、毎月一定期日に支払わなければなりません。ただし、支払い日が休日の場合は支払日の繰上げまたは繰り下げが認められています。&lt;/p&gt;

&lt;p&gt;また、賃金とは、労働に対する報酬として支払う対価のことをいいます。つまり、労働者が使用者に対して労務を提供し、使用者がその対価として賃金を支払うのを原則としています。&lt;/p&gt;

&lt;p&gt;労働契約に定められた所定労働日や所定労働時間に欠勤・遅刻・早退などのような労務の提供がない場合、賃金を支払う義務は発生しないと考えることができます。これを「ノーワーク・ノーペイの原則」といったりもします。&lt;/p&gt;

&lt;p&gt;それでは次に所定労働日や所定労働時間を超えて労務の提供を行った場合、つまり、残業した場合の支払いについてみていきましょう。&lt;/p&gt;

&lt;h2&gt;残業時間と残業代&lt;/h2&gt;

&lt;p&gt;まず残業時間について整理していきます。&lt;/p&gt;

&lt;p&gt;会社の就業規則などで、始業時刻と終業時刻、休憩時間が定められているはずですので、必ず確認しておきましょう。休憩時間を除く始業から終業までの時間が所定労働時間となります。この時間を超えて働いた場合、残業が発生します。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;実際の労働時間 - 所定労働時間 = 残業時間&lt;/code&gt; &lt;/p&gt;

&lt;p&gt;労働時間については労働基準法で「休憩時間を除き１日について８時間を超えて、労働させてはならない」と定めています。この１日8時間を法定労働時間と呼びます。法定労働時間を超えて労働させた場合、割増賃金が発生します。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;残業時間 × 時間単金 × 残業割増率 = 残業代&lt;/code&gt; &lt;/p&gt;

&lt;p&gt;ただし、会社で定めている所定労働時間が7時間で、法定労働時間8時間を超えない労働時間分(法定内残業と呼ぶ)は割増賃金が発生しません。もちろん、会社の就業規則でこの時間帯も割増賃金を発生するとするのは労働者に有利になりますので問題ありません。&lt;/p&gt;

&lt;p&gt;少し具体的に整理しましょう。就業規則が以下のように定められている会社があるとします。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;始業時間：9:00&lt;/li&gt;
&lt;li&gt;終業時間：17:00&lt;/li&gt;
&lt;li&gt;休憩時間：1:00&lt;/li&gt;
&lt;li&gt;所定労働時間：7時間&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この会社で時間単金1,000円の人が平日に9:00〜20:00まで働いたとします。その場合、17:00〜20:00は残業時間にあたりますが、17:00〜18:00までの1時間は法定労働時間(8時間)内ですので割増賃金は発生しません。18:00〜20:00の2時間は残業割増が発生します。&lt;/p&gt;

&lt;p&gt;つまり、残業代は...&lt;/p&gt;

&lt;p&gt;&lt;code&gt;法定内残業1時間 × 時間単金&lt;/code&gt; と &lt;code&gt;法定外残業2時間 × 時間単金 × 残業割増率&lt;/code&gt; を足した金額になります。&lt;/p&gt;

&lt;p&gt;ただし、就業時間が18:00で、所定労働時間が8時間と定められている場合、所定労働時間 = 法定労働時間ですので、そういった会社は法定内残業は発生しませんので、残業には全て残業割増が発生します。&lt;/p&gt;

&lt;p&gt;労働基準法 第三十七条で賃金の割増率について、「通常の労働時間又は労働日の賃金の計算額の二割五分以上五割以下の範囲内でそれぞれ政令で定める率以上の率で計算した割増賃金を支払わなければならない。」と定められています。&lt;/p&gt;

&lt;h2&gt;深夜労働&lt;/h2&gt;

&lt;p&gt;労働基準法 第三十七条では、深夜労働についても触れており、「午後十時から午前五時までの間において労働させた場合においては、その時間の労働については、通常の労働時間の賃金の計算額の二割五分以上の率で計算した割増賃金を支払わなければならない。」と定められています。&lt;/p&gt;

&lt;p&gt;つまり22:00〜5:00の間に勤務した場合、残業の割増賃金とは別に深夜労働の割増賃金が発生します。&lt;/p&gt;

&lt;p&gt;先ほどの会社で、23:00まで働いた場合、17:00〜18:00までの1時間は法定内残業、18:00〜22:00までの4時間は法定外残業、22:00〜23:00までの1時間は法定外残業かつ深夜労働にあたります。残業代は以下のようになります。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;法定内残業1時間 × 時間単金&lt;/code&gt; + &lt;code&gt;法定外残業4時間 × 時間単金 × 残業割増率&lt;/code&gt;  +  &lt;code&gt;法定外残業かつ深夜労働1時間 × 時間単金 × (残業割増率 + 深夜労働割増率)&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;休憩時間&lt;/h2&gt;

&lt;p&gt;余談ですが、労働基準法 第三十四条には休憩時間について、「労働時間が六時間を超える場合においては少くとも四十五分、八時間を超える場合においては少くとも一時間の休憩時間を労働時間の途中に与えなければならない。」と定められています。&lt;/p&gt;

&lt;p&gt;また、休憩時間は原則として一斉に与えなければならず、使用者は労働者に休憩時間を自由に利用させなければなりません。&lt;/p&gt;

&lt;h2&gt;まとめ&lt;/h2&gt;

&lt;p&gt;以上、この記事では残業時間と残業代についてまとめてみました。&lt;/p&gt;

&lt;p&gt;残業は基本的には上司からの業務命令で、また止むを得ず残業する必要がある場合は必ず残業申請を行ってから残業するようにしましょう。&lt;/p&gt;

&lt;p&gt;その上で、自分の勤務実態と給与明細を見比べて、なんだか残業代が少ないなーと思ったら給与担当者に聞いてみましょうね。きっと快く答えてくれるはずです。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>「Matzから、Rubyパフォーマンスのポイントを教えてもらおう！会議」レポート &#35;matz_1031</title>
      <link>http://blog.all-in.xyz/2015/11/16/talk-with-matz-about-performance-for-ruby</link>
      <pubDate>Mon, 16 Nov 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/11/16/talk-with-matz-about-performance-for-ruby</guid>
      <description>&lt;p&gt;こんにちは、開発2年目エンジニアの
&lt;a href=&quot;https://twitter.com/&quot;&gt;岩﨑 俊貴&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;2015.10.31(Sat)13:00-15:30 @渋谷クロスタワー32F CTカンファレンスルームにて&lt;br /&gt;
弊社顧問、Rubyの作成者まつもとゆきひろ氏をはじめ、&lt;br /&gt;
株式会社Ruby開発  開発室室長  柴田有一郎氏&lt;br /&gt;
株式会社Speee  サーバサイドスペシャリスト  西岡寛兼氏&lt;br /&gt;
にお越しいただき、勉強会を開催いたしました。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ここでは当日のスライドをまとめてご覧いただけます。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;当日ご協力いただきました皆様、&lt;br /&gt;
また、お越しいただきました皆様、誠にありがとうございました。&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;Index&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Rubyのパフォーマンスはどこまで上げられるか。あるいはRubyは本当に遅いのか？&lt;br /&gt;
　（まつもとゆきひろ氏)&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Benchmarkspec&lt;br /&gt;
　（株式会社Ruby開発  開発室室長  柴田有一郎氏）&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Ruby初心者チームが「Ruby日本一」を目指して最初の半年の話&lt;br /&gt;
　（株式会社Speee  サーバサイドスペシャリスト  西岡寛兼氏）&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;自社サービス&amp;quot;ALL-IN&amp;quot;（Rubyアプリ）開発における処理速度向上Tips&lt;br /&gt;
　（株式会社ビジネスバンクグループ CTO ALL-IN事業部 竹中 翔）&lt;br /&gt;
&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Rubyのパフォーマンスはどこまで上げられるか。あるいはRubyは本当に遅いのか？&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/matz.JPG&quot; alt=&quot;Matz&quot;&gt;&lt;br /&gt;
まつもとゆきひろ氏&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/guests.JPG&quot; alt=&quot;Guests&quot;&gt;&lt;br /&gt;
参加者の方々&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&quot;//www.slideshare.net/slideshow/embed_code/key/s2XfsMigibSbmb&quot; width=&quot;595&quot; height=&quot;485&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;//www.slideshare.net/BBGDEV/rubyruby-54975664&quot; title=&quot;Rubyのパフォーマンスはどこまで上げられるか。あるいはRubyは本当に遅いのか？&quot; target=&quot;_blank&quot;&gt;Rubyのパフォーマンスはどこまで上げられるか。あるいはRubyは本当に遅いのか？&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;//www.slideshare.net/BBGDEV&quot; target=&quot;_blank&quot;&gt;BBGDEV&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;Benchmarkspec&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/ruby_kaihatsu.JPG&quot; alt=&quot;RubyKaihatsu&quot;&gt;&lt;br /&gt;
株式会社Ruby開発  開発室室長  柴田有一郎氏&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&quot;//www.slideshare.net/slideshow/embed_code/key/3SOKxhTsduutjU&quot; width=&quot;595&quot; height=&quot;485&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;//www.slideshare.net/YuichiroShibata/benchmarkspec&quot; title=&quot;Benchmarkspec&quot; target=&quot;_blank&quot;&gt;Benchmarkspec&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;//www.slideshare.net/YuichiroShibata&quot; target=&quot;_blank&quot;&gt;Yuichiro Shibata&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;Ruby初心者チームが「Ruby日本一」を目指して最初の半年の話&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/speee_san.JPG&quot; alt=&quot;Speee&quot;&gt;&lt;br /&gt;
株式会社Speee  サーバサイドスペシャリスト  西岡寛兼氏&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;div style=&quot;width: 73%&quot;&gt;
&lt;script async class=&quot;speakerdeck-embed&quot; data-id=&quot;c3527868f38949a2826fe4c2b26633bf&quot; data-ratio=&quot;1.33333333333333&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;p&gt;*2015年 Ruby World Conferenceでの発表のスライドですが、同内容を発表していただきました。&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;自社サービス&amp;quot;ALL-IN&amp;quot;（Rubyアプリ）開発における処理速度向上Tips&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/takenaka_san.JPG&quot; alt=&quot;Takenaka&quot;&gt;&lt;br /&gt;
株式会社ビジネスバンクグループ CTO ALL-IN事業部 竹中 翔&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&quot;//www.slideshare.net/slideshow/embed_code/key/swSEpGf2cMrL8V&quot; width=&quot;595&quot; height=&quot;485&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;//www.slideshare.net/ShouTakenaka/allin-tips&quot; title=&quot;自社開発プロダクト ALL-IN で行っている単体テストのパフォーマンスチューニングTips&quot; target=&quot;_blank&quot;&gt;自社開発プロダクト ALL-IN で行っている単体テストのパフォーマンスチューニングTips&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;//www.slideshare.net/ShouTakenaka&quot; target=&quot;_blank&quot;&gt;Shou Takenaka&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h2&gt;勉強会の後の様子&lt;/h2&gt;

&lt;p&gt;当日は懇親会も行われました。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/konshinkai.JPG&quot; alt=&quot;Konshinkai&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-16-talk-with-matz-about-performance-for-ruby/konshinkai2.JPG&quot; alt=&quot;Konshinkai2&quot;&gt;&lt;/p&gt;

&lt;h2&gt;Information&lt;/h2&gt;

&lt;p&gt;弊社ビジネスバンクグループでは今後も定期的に勉強会を開催予定です。&lt;br /&gt;
こちらのブログでも情報が記載されるようにいたしますので、&lt;br /&gt;
是非ご参加ください。&lt;br /&gt;
&lt;br /&gt;
ご覧いただき、ありがとうございます。&lt;/p&gt;

&lt;p&gt;岩﨑
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！
&lt;style&gt;
img[alt=Matz] { width: 400px; }
img[alt=Guests] { width: 200px; }
img[alt=RubyKaihatsu] { width: 400px; }
img[alt=Speee] { width: 400px; }
img[alt=Takenaka] { width: 400px; }
img[alt=Konshinkai] { width: 400px; }
img[alt=Konshinkai2] { width: 400px; }
&lt;/style&gt;&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>(Rails) BULK INSERT、BULK UPDATEの実装方法</title>
      <link>http://blog.all-in.xyz/2015/11/09/how-to-bulk-insert-and-update</link>
      <pubDate>Mon, 09 Nov 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/11/09/how-to-bulk-insert-and-update</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の高橋 慶太です。&lt;/p&gt;

&lt;p&gt;今回は、Railsにおいて、BULK-INSERTおよびBULK-UPDATEによるDB更新を行う方法について書きたいと思います。&lt;/p&gt;

&lt;h1&gt;使用するGem&lt;/h1&gt;

&lt;p&gt;以下のactiverecord-importというGemを使用します。&lt;br/&gt;
GitHub: &lt;a href=&quot;https://github.com/zdennis/activerecord-import&quot;&gt;activerecord-import&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;activerecord-import&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;BULK INSERTとは？&lt;/h1&gt;

&lt;p&gt;BULK INSERTとはあるテーブルに対するINSERTの処理を、1つのSQLで一括で登録する方法です。&lt;br/&gt;
バッチ処理で大量データを登録する場合など、BULK INSERTを行うことで処理時間を短縮することができます。&lt;/p&gt;

&lt;h1&gt;BULK INSERTの実装方法&lt;/h1&gt;

&lt;p&gt;通常、RailsのActiveRecordでDBへ保存する場合は、下記のように記述します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;# Sampleテーブルに対して、3レコードをActiveRecordで1レコードずつ保存する場合&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;sample_column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save!&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;BULK INSERTを使って登録する場合、下記のように記述します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;# Sampleテーブルに対して、3レコードをBULK INSERTで一括で登録する場合&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;sample_column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# ここで一括登録処理が行われる&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;BULK UPDATEの実装方法&lt;/h1&gt;

&lt;p&gt;RailsでBULK UPDATEを行う方法には、2つの方法があります。&lt;/p&gt;

&lt;h2&gt;1.「on_duplicate_key_update」を指定する (MySQL限定)&lt;/h2&gt;

&lt;p&gt;「on_duplicate_key_update」で更新対象とするカラム名を指定する方法です。&lt;br/&gt;
ただし、この方法はMySQL限定の構文を使用したものであるため、MySQL以外のDBでは使用できません。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;# Sampleテーブルに対して、3レコードをBULK INSERTで一括で登録する場合&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each_with_index&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_column1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# sample_column1カラムのみ更新&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;on_duplicate_key_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_column1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. update_allを使用する&lt;/h2&gt;

&lt;p&gt;Railsのupdate_allを使用する方法です。&lt;br/&gt;
この方法は、ActiveRecordのメソッドであるため使用可能なDBの制限はありません。&lt;br/&gt;
ただし、この方法は「全レコードに対して同じ値を設定する場合のみ」しか使えない点に注意が必要です。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;samples&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;sample_column1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>AngularJS ScopeのLife Cycleについて</title>
      <link>http://blog.all-in.xyz/2015/11/06/understanding-life-cycle-scope</link>
      <pubDate>Fri, 06 Nov 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/11/06/understanding-life-cycle-scope</guid>
      <description>&lt;p&gt;ビジネスバンクグループエンジニアの
&lt;a href=&quot;https://twitter.com/kurisankaku&quot;&gt;栗山 宗久&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;AngularJSの要であるscopeのライフサイクルについて、公式ドキュメントを要約しつつ、確認していきたいと思います。&lt;br&gt;
&lt;a href=&quot;https://docs.angularjs.org/guide/scope&quot;&gt;https://docs.angularjs.org/guide/scope&lt;/a&gt;
　  &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Scopeとは？&lt;/h2&gt;

&lt;p&gt;そもそもスコープとは、アプリケーションのコントローラーとビューを繋げる糊の役割を果たします。特徴としては、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;モデルの変更を見張るAPI($watch)を提供&lt;/li&gt;
&lt;li&gt;&amp;quot;Angular領域&amp;quot;(コントローラー、サービス、Angularイベントハンドラ)の外部から、 ビューへシステムを通してモデル変更を伝搬するためのAPI($apply)を提供&lt;/li&gt;
&lt;li&gt;共有モデルのプロパティへのアクセスを提供しつつ、アプリケーションの分離コンポーネントを入れ子にすることができる。 スコープ(のプロトタイプ)は、その親スコープからプロパティを継承する&lt;/li&gt;
&lt;li&gt;評価対象の式 に対してコンテキストを提供。 例えば、式は、usernameプロパティが定義された特定のスコープに対して評価される&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;となります。
ここで注目するのが&amp;quot;&lt;strong&gt;$watch&lt;/strong&gt;&amp;quot;の提供です。モデルの変更を監視する$watchに監視したいモデルを登録することにより、モデルの変更に対応できます。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Scopeのライフサイクル&lt;/h2&gt;

&lt;p&gt;Scopeのライフサイクルは、次の手順で実行されます。&lt;/p&gt;

&lt;h3&gt;1. Creation&lt;/h3&gt;

&lt;p&gt;アプリケーションの起動中に、$injectorによってルートスコープが作成されます。 そして、テンプレート（View)のリンク中に、ディレクてイプはそれぞれ新しい子スコープを作成します。&lt;/p&gt;

&lt;h3&gt;2. Watcher registration&lt;/h3&gt;

&lt;p&gt;テンプレート(View)のリンク中に、ディレクティブはスコープにwatchesを登録していきます。これらのwatchesは、DOMへモデルの値を伝える際に使用されます。&lt;/p&gt;

&lt;h3&gt;3. Model mutation&lt;/h3&gt;

&lt;p&gt;値の変更を適切に監視するためには、scope.$apply()内で値の変更を実行すべきです。これはAngular実行コンテキストの外部で、ブラウザがJavaScriptコードの実行を呼び出す場合、 Angularがモデルの変更を認識することが出来ないからです。&lt;br&gt;
　&lt;br&gt;
適切にモデルの変更を処理するためには、$apply()メソッドを使用して、Angularの実行コンテキストに入れる必要があります。$apply()メソッド内で実行されたモデル変更のみが、Angularによって適切に処理されます。&lt;br&gt;
　&lt;br&gt;
例えば、もしディレクティブがng-clickのような、DOMイベントをリッスンしていた場合、$apply()メソッド内で式を評価しなければいけません。&lt;br&gt;
　&lt;br&gt;
AngularのAPIはこれを暗黙的に行うため、コントローラー内での同期処理、または$httpや$timeout等のサービスでの非同期処理の際に$applyを呼び出す必要はありません。  &lt;/p&gt;

&lt;h3&gt;4. Mutation observation&lt;/h3&gt;

&lt;p&gt;$applyの最後に、Angularはルートスコープ上で$digestサイクルを実行し、全ての子スコープに伝搬します。$digestサイクル中は、全ての$watch式または関数はモデルの変更を確認し、もし変更されていれば$watchリスナーが呼び出されます。&lt;/p&gt;

&lt;h3&gt;5. Scope destruction&lt;/h3&gt;

&lt;p&gt;子スコープが不要になった場合、scope.$destroy()のAPIを介してそれらを削除するのは、子スコープ作成者の責務です。これにより、子スコープの$digest呼び出しによる伝搬を停止し、ガベージコレクタが、子スコープモデルに使用されていたメモリを開放出来るようにします。&lt;/p&gt;

&lt;p&gt;次にこのScopeのライフサイクルがどのように、ブラウザのイベントループと統合されるかを見ていきます。&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;ブラウザーのイベントループとの統合&lt;/h2&gt;

&lt;p&gt;次の図(&lt;a href=&quot;https://docs.angularjs.org/guide/scope&quot;&gt;公式ドキュメントより引用&lt;/a&gt;)は、Angularがどのようにブラウザのイベントループによって作用しているかを説明したものです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-11-06-understanding-life-cycle-scope/concepts-runtime.png&quot; alt=&quot;concepts-runtime&quot;&gt;&lt;/p&gt;

&lt;p&gt;まず、ブラウザのイベントループについて説明します。ブラウザのイベントループは、&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;イベントが到達するのを待ち受ける。イベントには、ユーザー操作、タイマーイベント、ネットワークイベント(サーバからのレスポンス)がある。&lt;/li&gt;
&lt;li&gt;イベントのコールバックが実行され、JavaScriptのコンテキストに入る。コールバックはDOM構造を変更することが可能。&lt;/li&gt;
&lt;li&gt;1度コールバックが実行されると、ブラウザはJavaScriptコンテキストを残し、DOMの変更を元にしたビューを再描画する。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;の様になります。Angularは、この標準のJavaScriptフローを自身のイベント処理ループを割り当てることで修正します。&lt;/p&gt;

&lt;p&gt;では、実際にどのように動作していくのかを、データバインディングによる反映方法（下記を例として）を用いて説明します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ng-controller=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;MyController&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  Your name: &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ng-model=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
  {{name}}
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. コンパイルフェーズ&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;ng-modelとinputディレクティブに、input制御上でのkeydownリスナーを設定。&lt;/li&gt;
&lt;li&gt;interpolationによって、nameの変更が$watchに通知されるように設定される。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3&gt;2. ランタイムフェーズ&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;input上で&lt;code&gt;&amp;#39;X&amp;#39;&lt;/code&gt;キーを押すと、ブラウザがkeydownイベントを発生させる。&lt;/li&gt;
&lt;li&gt;inputディレクティブは、inputの値の変更を捕捉し、Angular実行コンテキスト内部のアプリケーションモデルを変更するために&lt;code&gt;$apply(&amp;quot;name = &amp;#39;X&amp;#39;;&amp;quot;)&lt;/code&gt;を呼び出す。&lt;/li&gt;
&lt;li&gt;Angularは&lt;code&gt;name = &amp;#39;X&amp;#39;;&lt;/code&gt;をモデルに対し適用。&lt;/li&gt;
&lt;li&gt;$digestループを開始。&lt;/li&gt;
&lt;li&gt;$watchリストはnameプロパティの変更を見つけ、interpolationに通知しDOMを更新して変更するように伝える。&lt;/li&gt;
&lt;li&gt;Angularはコンテキストの実行を終了し、keydownイベントとそのJavaScriptのコンテキストの実行が終了する。&lt;/li&gt;
&lt;li&gt;ブラウザはテキストの更新で再描画する。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;このように$apply, $digestを通して変更を行っていきます。&lt;br&gt;
　&lt;br&gt;
ここで気になるのが、Angularを使わないライブラリでDOMの操作を行った時に、どうすればいいかということです。
この場合は、上記に書いたように、$applyを使うべきなんですが、その説明は次回にしたいと思います。&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>How to handle data updates in migrations</title>
      <link>http://blog.all-in.xyz/2015/11/01/how-to-handle-data-updates-in-migration</link>
      <pubDate>Sun, 01 Nov 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/11/01/how-to-handle-data-updates-in-migration</guid>
      <description>&lt;p&gt;A couple of weeks ago I was pointed to this &lt;a href=&quot;http://railsguides.net/change-data-in-migrations-like-a-boss/&quot;&gt;article&lt;/a&gt; and it turned out I was just in the middle of doing a similar thing : update / move data inside a migration.&lt;/p&gt;

&lt;p&gt;As it is indicated if you use defined models in your migrations you will have some surprises in the future in case a model name has changed for whatever reason. Reason is old migrations might not have been also updated properly and then these migrations will fail.&lt;/p&gt;

&lt;p&gt;The above post covers different steps of how to improve the process.&lt;/p&gt;

&lt;p&gt;Here is how we deal with it at the moment :&lt;/p&gt;

&lt;p&gt;First let’s define a basic case. Let’s say we have some customers and these customers have contacts. So some simple models could be : &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Customer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Contact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:mobile_phone&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:phone&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:customer&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;attr_tde is just a prefix we use for encrypted fields, so in the tables the fields are named like encrypted_first_name for example but we can access Customer#first_name directly.&lt;/p&gt;

&lt;p&gt;So the first step is to duplicate the model definition inside the migration file. With a little change, we use a different name for the class and we declare the table_name with the real table name.&lt;/p&gt;

&lt;p&gt;I.e : &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;customers&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So the migration file becomes something like :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UpdateDataInCustomerAndInContacts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Migration&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomerMigration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;customers&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ContactMigration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:mobile_phone&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:phone&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:customer&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;up&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# update your data using CustomerMigration and ContactMigration models&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;down&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# revert your data&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way, we ensure that the data will migrate correctly even in the future.&lt;/p&gt;

&lt;p&gt;But as you certainly noticed, there is a bug. The association between Customer and Contact is no more properly defined. belongs_to :customer makes no sense here.&lt;/p&gt;

&lt;p&gt;Therefore we have to precise the associations also in the models defined inside the migration and the file now looks like :&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UpdateDataInCustomerAndInContacts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Migration&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CustomerMigration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;customers&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ContactMigration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:first_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:last_name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:mobile_phone&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;attr_tde&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:phone&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:customer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;class_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;CustomerMigration&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;foreign_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;customer_id&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;up&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# update your data using CustomerMigration and ContactMigration models&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;down&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# revert your data&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way we can safely move /update our data and be sure the migration will work also later if the model names change.&lt;/p&gt;

&lt;p&gt;Also in your models defined in the migration if needed be sure of course to add your different validations and includes etc…&lt;/p&gt;

&lt;p&gt;Jérôme&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>五捨六入...？1,000円未満を切り捨て...？ってどうするの？？</title>
      <link>http://blog.all-in.xyz/2015/10/19/how-to-round-up-on-6-and-down-on-5</link>
      <pubDate>Mon, 19 Oct 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/10/19/how-to-round-up-on-6-and-down-on-5</guid>
      <description>&lt;p&gt;エンジニアの伊藤です。&lt;/p&gt;

&lt;p&gt;皆さんの給与明細書には、健康保険、厚生年金や所得税などの控除項目が記載されています。&lt;/p&gt;

&lt;p&gt;...見たことないという人は、給与明細書をもう一度確かめてみてくださいね。&lt;/p&gt;

&lt;p&gt;支給額からこれらの控除項目を差し引いた金額が、実際の給与として支払われる金額、いわゆる手取りになります。&lt;/p&gt;

&lt;p&gt;この記事では、この控除項目の計算について取り上げたいと思います。計算手順もいろいろと厄介なのですが、ここではそのうちの端数計算を取り上げたいと思います。&lt;/p&gt;

&lt;h2&gt;端数計算&lt;/h2&gt;

&lt;p&gt;端数計算というと四捨五入、切り上げ、切り捨てなどがすぐに思い浮かびますね。
Rubyでもround、ceil、floorなどのメソッドが用意されていてとても便利です。&lt;/p&gt;

&lt;p&gt;四捨五入&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;10.5.round
=&amp;gt; 11
10.4.round
=&amp;gt; 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;切り上げ&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;10.5.ceil
=&amp;gt; 11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;切り捨て&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;10.5.floor
=&amp;gt; 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;しかし、例えば全国健康保険協会(協会けんぽ)の保険料額表の注意書きにはこのように書いてあります。&lt;/p&gt;

&lt;p&gt;「事業主が、給与から被保険者負担分を控除する場合、被保険者負担分の端数が50銭以下の場合は切り捨て、50銭を超える場合は切り上げて1円となります。」&lt;/p&gt;

&lt;p&gt;「50銭以下の場合は切り捨て、50銭を超える場合は切り上げ」...。&lt;/p&gt;

&lt;p&gt;つまり、100.5円の場合は0.5を切り捨てて100円。100.6円であれば切り上げて101円ってこと？
これは四捨五入じゃないような...&lt;/p&gt;

&lt;p&gt;はっ！五捨六入...？&lt;/p&gt;

&lt;h2&gt;五捨六入&lt;/h2&gt;

&lt;p&gt;そこで「保険料、五捨六入」と調べると事例がたくさん出てきました。
Rubyでも五捨六入に相当するメソッドが用意されていますのでそれを使います。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;BigDecimal(&amp;quot;10.5&amp;quot;).round(0, BigDecimal::ROUND_HALF_DOWN).to_f
=&amp;gt; 10.0
BigDecimal(&amp;quot;10.6&amp;quot;).round(0, BigDecimal::ROUND_HALF_DOWN).to_f
=&amp;gt; 11.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで実現できてそうです。&lt;/p&gt;

&lt;p&gt;しかし、実は「五捨六入」という言葉は正しくありません。&lt;/p&gt;

&lt;p&gt;なぜなら、「50銭以下の場合は切り捨て、50銭を超える場合は切り上げ」なので、0.5は切り捨てて、0.51は切り上げるのです。&lt;/p&gt;

&lt;p&gt;つまり「六入」ではない、ということです。&lt;/p&gt;

&lt;p&gt;もし、0.5から0.6の間の値が切り捨てられるようだと、その範囲の値の場合のみ1円単位の誤差が出てしまいます。&lt;/p&gt;

&lt;p&gt;BigDecimal::ROUND&lt;em&gt;HALF&lt;/em&gt;DOWNの動作を確認してみましょう。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;BigDecimal(&amp;quot;10.51&amp;quot;).round(0, BigDecimal::ROUND_HALF_DOWN).to_f
=&amp;gt; 11.0
BigDecimal(&amp;quot;10.501&amp;quot;).round(0, BigDecimal::ROUND_HALF_DOWN).to_f
=&amp;gt; 11.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;「六入」ではなく、0.5を「超える場合は切り上げ」になっているようです。&lt;/p&gt;

&lt;p&gt;これで「50銭以下の場合は切り捨て、50銭を超える場合は切り上げ」が実現できていることが確認できました。&lt;/p&gt;

&lt;h2&gt;整数部の切り捨て&lt;/h2&gt;

&lt;p&gt;さて、もう少し協会けんぽの保険料額表を見てみましょう。&lt;/p&gt;

&lt;p&gt;「賞与に係る保険料額は、賞与額から1,000円未満の端数を切り捨てた額（標準賞与額）に、保険料率を乗じた額となります。」とあります。&lt;/p&gt;

&lt;p&gt;小数点以下の切り捨てではなく整数部での切り捨て...です。
これはroundの引数にマイナスの値を入れれば実現できます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;BigDecimal(&amp;quot;1900&amp;quot;).round(-3, BigDecimal::ROUND_FLOOR).to_f
=&amp;gt; 1000.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ちなみに四捨五入の場合は、roundでも同様に整数部の指定ができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;1500.round(-3)
=&amp;gt; 2000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>開発1年目でよく使用した23のgit commandをざっくりとご紹介</title>
      <link>http://blog.all-in.xyz/2015/10/13/git_commands_for_1st_year_programmer</link>
      <pubDate>Tue, 13 Oct 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/10/13/git_commands_for_1st_year_programmer</guid>
      <description>&lt;p&gt;こんにちは、開発2年目エンジニアの
&lt;a href=&quot;https://twitter.com/&quot;&gt;岩﨑 俊貴&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;gitはプログラムの変更履歴を管理するためのツールです。&lt;br/&gt;
1年目の最初にはさっぱりだったgit（開発について他のことも全然わかっていませんでしたが笑）。&lt;br/&gt;
今ではとっても便利なツールだなと改めて思います。&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;そこで、本日は私が1年目に実際に使ったコマンドから、&lt;br/&gt;
「よくこのコマンドは使うよ、ここら辺を知っていればgitに関して大抵のことはわかって、&lt;br/&gt;
前に進めるはず…（きっと笑）」というコマンドを一覧にしました。&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;リモートリポジトリ→ローカルリポジトリ→リモートリポジトリの流れです。&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;より詳細なコマンドの内容については、参考のリンク先を参照してください。&lt;br/&gt;
先人たちがまとめてくれています。&lt;/p&gt;

&lt;h2&gt;Index&lt;/h2&gt;

&lt;p&gt;・エディターでローカルリポジトリのファイルを編集する前に&lt;br/&gt;
・エディターでファイルを編集して保存した後に&lt;br/&gt;
・ローカルリポジトリでの編集をリモートリポジトリに反映する。&lt;br/&gt;
・その他のgitコマンド&lt;br/&gt;
・参考&lt;/p&gt;

&lt;h2&gt;エディターでローカルリポジトリのファイルを編集する前に&lt;/h2&gt;

&lt;table width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;th width=&quot;25%&quot;&gt;gitコマンド&lt;/th&gt;
    &lt;th width=&quot;75%&quot;&gt;ざっくり説明&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git clone (リモートリポジトリのURL)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;リモートリポジトリをローカルリポジトリ（自分のパソコン）にコピーする。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git branch&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;現在いるブランチと、そのほかに作成されているブランチの状況を確認する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git branch (name)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;現在いるブランチから、新しく、nameというブランチを作成する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git branch -m (old name) (new name)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ブランチ名を変更する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git checkout (name)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ブランチ名nameに移動する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git pull&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;リモートリポジトリから最新の状態をローカルリポジトリに反映する。
        リモートリポジトリの最新の状態を反映するブランチはmasterブランチ。
        必要があれば、masterブランチからほかのブランチに変更点をmergeすること。&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br/&gt;&lt;/p&gt;

&lt;h2&gt;エディターでファイルを編集して保存した後に&lt;/h2&gt;

&lt;table width=&quot;100%&quot;&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git merge (ブランチ名)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ローカルにて他のローカルブランチの変更を今いるブランチに統合する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git status&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;どのファイルを編集して保存した状態になっているか、add した状態になっているか、確認する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git stash&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;コミットしたくないけど、この編集中の履歴は残しておきたい…そんな時のコマンド。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git stash pop&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;残しておいたgit stash の一番最近の履歴を再び反映させる。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git log&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;コミットの履歴、メッセージを閲覧する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git diff (file path)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;指定したファイルの作業ディレクトリに保存された変更箇所を確認する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git diff&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;作業ディレクトリに保存された変更箇所すべてを確認する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git add (file path)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;コミットする前に、作業ディレクトリに保存された指定したファイルの編集内容をステージングエリアに追加する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git add .&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;コミットする前に、作業ディレクトリに保存されたすべての編集内容をステージングエリアに追加する。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git commit (file path)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ステージングエリアにある変更を指定してコミットする。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git commit .&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ステージングエリアにある変更をすべてコミットする。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git reset (file path)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ステージングエリアにある指定したファイルの変更をアンステージして作業ディレクトリの状態に戻す。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git reset --hard head &lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;コミットしていない作業をすべて（Sublimeテキストなどのテキストエディタで一時保存したもの、保存したaddした状態のものを）クリアする。&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git reset --hard head^&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;最新のコミットより一つ前のコミットの状態に戻す。
                   （最新のコミットは消えて、最新コミットの作業の内容も消える。）
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git reset --soft head^&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;最新のコミットより一つ前のコミットの状態に戻す。
                   （最新のコミットは消えるが、ステージングエリアに何を編集したか履歴が残っている。）
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br/&gt;&lt;/p&gt;

&lt;h2&gt;ローカルリポジトリでの編集をリモートリポジトリに反映する。&lt;/h2&gt;

&lt;table&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git push&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;ローカルで変更したブランチのコミットをリモートのブランチにpushする。
                    ブランチがリモートリポジトリになければ新たにリモートリポジトリにブランチが作成される。
                    ブランチがリモートリポジトリにあれば、ローカルで更新した内容が適応される。
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br/&gt;&lt;/p&gt;

&lt;h2&gt;その他のgit コマンド&lt;/h2&gt;

&lt;table&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25%&quot;&gt;git cherry-pick (commit識別番号)&lt;/td&gt;
    &lt;td width=&quot;75%&quot;&gt;他のブランチのコミットを指定して、その編集内容を現在いるブランチにマージする。
                    git logコマンドか、githubのコミット識別番号を確認。
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br/&gt;
&lt;br/&gt;
以上、開発1年目でよく利用したgitのコマンド集でした！&lt;br/&gt;
細かく見ていけばもっと使い勝手よくコマンドを利用できます。&lt;br/&gt;
詳しくは参考先をご覧ください。&lt;/p&gt;

&lt;h2&gt;参考&lt;/h2&gt;

&lt;p&gt;・&lt;a href=&quot;https://osdn.jp/magazine/09/03/16/0831212&quot;&gt;Gitを使いこなすための20のコマンド&lt;/a&gt;&lt;br/&gt;
・&lt;a href=&quot;http://morizyun.github.io/blog/how-to-git-review-book/&quot;&gt;チーム開発に必要なgit コマンドを神速で習得しよう！&lt;/a&gt;&lt;br/&gt;
・&lt;a href=&quot;http://sessan.hatenablog.com/entry/2012/11/04/132746&quot;&gt;リモートのgitブランチをローカルにチェックアウトする&lt;/a&gt;&lt;br/&gt;
・&lt;a href=&quot;http://qiita.com/shuntaro_tamura/items/db1aef9cf9d78db50ffe&quot;&gt;[git reset (--hard/--soft)]ワーキングツリー、インデックス、HEADを使いこなす方法&lt;/a&gt;&lt;br/&gt;
・&lt;a href=&quot;http://shoma2da.hatenablog.com/entry/2014/03/08/234523&quot;&gt;今さら聞けないgit pushコマンド&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ご覧いただき、ありがとうございます。&lt;/p&gt;

&lt;p&gt;岩﨑
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;

&lt;style&gt;
table {
  border-collapse: collapse;
}
th {
  border: solid 1px;
  padding: 0.5em;
}
td {
  border: solid 1px;
  padding: 0.5em;
}
&lt;/style&gt;
</description>
    </item>
    
    
    
    <item>
      <title>コードレビューの進め方</title>
      <link>http://blog.all-in.xyz/2015/10/05/how-to-review-code</link>
      <pubDate>Mon, 05 Oct 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/10/05/how-to-review-code</guid>
      <description>&lt;p&gt;ビジネスバンクグループ CTO の
&lt;a href=&quot;https://twitter.com/shoutakenaka&quot;&gt;@shoutakenaka&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;ALL-IN開発チームでは全員で相互レビューをしていて、コードを書いたら必ず別のエンジニアにレビューしてもらうようにしています。&lt;/p&gt;

&lt;p&gt;必ずレビューされるとなれば書き方に気をつけるようになるし、レビューすることで他のメンバーが書いたイケてる書き方を盗めたり、仕様や書き方について疑問に思ったことをコーディング直後のホットなうちに担当のメンバーに確認できたりするので、メンバー間のコミュニケーションの促進や長期的なレベルの底上げに役立っています。&lt;/p&gt;

&lt;p&gt;一方で、アサインされているタスクをこなしつつレビューをしないといけないので、コーディングだけするのに比べるとそれなりに大変。&lt;br&gt;
各自うまく工夫しながらやっています。&lt;/p&gt;

&lt;p&gt;そんななかで、僕が普段どんな風にコードレビューを進めているかをまとめてみます。&lt;/p&gt;

&lt;h1&gt;コンテキストによってレビューを使い分ける&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-10-05-how-to-review-code/keyboard.png&quot; alt=&quot;Keyboard&quot;&gt;&lt;/p&gt;

&lt;p&gt;一口にコードレビューといっても、状況によってどこに重きをおいてレビューをするかというのが変わってきます。
僕の場合、&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;新規ジョインメンバーのコード&lt;/li&gt;
&lt;li&gt;共通部分の変更が入っている&lt;/li&gt;
&lt;li&gt;業務機能部分の変更のみ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;の３パターンのいずれかによって少しレビューの仕方を変えています。&lt;/p&gt;

&lt;h2&gt;新規ジョインメンバーのコードのレビュー&lt;/h2&gt;

&lt;p&gt;新たにジョインしてくれてまだ Rails とか AngularJS になれてないメンバーのコードをレビューする時は、アドバイスする箇所を探すという心持ちで、時間をなんとかひねり出して細かくコードを見ています。&lt;/p&gt;

&lt;p&gt;慣れるまでは Ruby っぽい書き方になっていなかったり、Rails 関連の各種 gem で提供されている便利機能で簡単にできることを独自実装していたり、ということがあります。&lt;/p&gt;

&lt;p&gt;そういうコードを見かけたら、「こんな書き方ができるよ」というコメントをしていきます。&lt;/p&gt;

&lt;p&gt;後は ActiveRecord の使い方がまずいところ (大量に DB サーバーにクエリを投げるような実装になっているところとか) がないかどうかチェックしたりしています。&lt;/p&gt;

&lt;h2&gt;共通部分の変更が入っているレビュー&lt;/h2&gt;

&lt;p&gt;共通部分 (プロジェクトフレームワーク部分) の変更が入っている場合は、そもそも共通機能として実装すべきかどうか、既存機能に影響がないかどうか、という観点で慎重にチェックします。&lt;/p&gt;

&lt;p&gt;共通部分の変更は影響範囲が大きい、かつ一度共通機能にしてしまうと後から手を入れにくい (特にインターフェースの変更とか手間がかかる) ので、設計の観点で色々ツッコミをいれたりします。&lt;/p&gt;

&lt;h2&gt;業務機能部分の変更のみのレビュー&lt;/h2&gt;

&lt;p&gt;上の２パターンはレビュー対象全体からするとそれほどの割合ではなくて、一番多いのが業務機能の変更に対するレビューです。&lt;/p&gt;

&lt;p&gt;メンバー全員分の全変更をレビューするとなるとそれなりの分量です。&lt;/p&gt;

&lt;p&gt;全部頭からじっくり見ることができればベストですが、現実的にそこまではしていられません。&lt;br&gt;
なので、このケースの変更をレビューする時には、スピーディにチェックしつつもコメントすべき箇所を見逃さないか、&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;いかに重点的にチェックすべき怪しそうなコードを見つけるか&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;が重要になります。&lt;/p&gt;

&lt;h1&gt;怪しい「smell」がする場所を嗅ぎ当てる&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-10-05-how-to-review-code/smell.png&quot; alt=&quot;Smell&quot;&gt;&lt;/p&gt;

&lt;p&gt;では、どうやって重点的にチェックすべき怪しそうなコード ＝ &lt;strong&gt;怪しい「smell」のするコード&lt;/strong&gt; にあたりをつけるのか。
僕がレビューをする時は、&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;最初にタスクを見て、何を実装すべきなのかを確認&lt;/li&gt;
&lt;li&gt;自分ならどう実装するのかざっくりとイメージ&lt;/li&gt;
&lt;li&gt;イメージと目の前のレビュー対象のコードを見比べる&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;をして、違和感があるかないかをチェックしていく感じで進めていきます。&lt;/p&gt;

&lt;h2&gt;タスクの内容を確認&lt;/h2&gt;

&lt;p&gt;まずはチケットを見てタスクの内容を確認し、そもそも何をしようとしている変更なのかを確認します。&lt;/p&gt;

&lt;p&gt;今使っている &lt;a href=&quot;https://www.atlassian.com/ja/software/crucible/overview&quot;&gt;Crucible&lt;/a&gt; だと、レビューを出す時勝手に &lt;a href=&quot;https://www.atlassian.com/ja/software/jira&quot;&gt;JIRA&lt;/a&gt; のチケットにリンクしてくれるので、レビューを出す側も見る側も楽チンです。&lt;/p&gt;

&lt;p&gt;チケットを見て、それほどボリュームの大きいタスクでなければ、自分で作るならどうするのかここでイメージします。&lt;br&gt;
でかいタスクだと一気に全体をイメージするのが難しいので、コードを見ながらイメージを膨らませていく感じになります。&lt;/p&gt;

&lt;h2&gt;想定外のコードを追加、修正していないか&lt;/h2&gt;

&lt;p&gt;実装イメージを浮かべたら、まずどのファイルが修正されてるのかチェックします。&lt;/p&gt;

&lt;p&gt;ここで「このファイルをいじる必要ありそう」と自分が思ったファイル以外のものが変更されていると怪しい「smell」です。&lt;/p&gt;

&lt;p&gt;余計なことをしているか、担当メンバーが仕様を勘違いしてるか、それとも僕の方がタスクの内容を読み間違えているのか。&lt;br&gt;
いずれにしろ僕が思っているのと実際の作業の間に何か齟齬がありそうなので、これらのファイルは重点的に確認した方が良さそうリストに入れます。&lt;/p&gt;

&lt;h2&gt;コードの「形」&lt;/h2&gt;

&lt;p&gt;次は一つ一つファイルを見ていきますが、コードの細かい内容は無視して全体の「形」、つまりインデントの下り具合や１ファイルあたりの行数などだけを見ます。&lt;/p&gt;

&lt;p&gt;ここでコードのギザギザがいい感じになっていないところ、具体的には&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ネストが極端に深い&lt;/li&gt;
&lt;li&gt;行が極端に長い&lt;/li&gt;
&lt;li&gt;１メソッドが長い&lt;/li&gt;
&lt;li&gt;文字が密集してごちゃごちゃしている感じがする&lt;/li&gt;
&lt;li&gt;ギザギザが長い (= １ファイルの行数が多い)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;といった箇所は怪しい「smell」がするので、重点確認リスト行きです。&lt;/p&gt;

&lt;h2&gt;名前のつけ方&lt;/h2&gt;

&lt;p&gt;直感的にわかりやすい名前がついているかどうかは、可読性、ひいては保守性に影響するので、識別子 (変数やメソッド名) に適切な名前がつけられているかざっとチェックします。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;名前が適当 (e.g. a, b, tmp...)&lt;/li&gt;
&lt;li&gt;一般的ではない略語を使っている&lt;/li&gt;
&lt;li&gt;連番のサフィックスがついている (e.g. num1, num2...)&lt;/li&gt;
&lt;li&gt;変数が名詞じゃない&lt;/li&gt;
&lt;li&gt;メソッドが動詞から始まってない&lt;/li&gt;
&lt;li&gt;英語として不自然&lt;/li&gt;
&lt;li&gt;Ruby の慣習に従った名前になっていない&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;といったものは怪しい「smell」を発しているので要注意です。&lt;/p&gt;

&lt;p&gt;特に、適切な名前がつけられていない時 (どんな名前をつけたらいいか思いつかなくて苦肉の策でつけたよう名前) は、プログラムの設計に問題があって、クラス分割やメソッド分割といったリファクタリングをした方がよい可能性があるので、そういう観点で細かいチェックをします。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;これらをざっとチェックすると、集中的にレビューした方がよさそうなところが大体見えてくるので、そこを中心にレビューし、後は時間が許せばそれ以外のところも目を通す、という感じで進めていきます。&lt;/p&gt;

&lt;h1&gt;まとめ&lt;/h1&gt;

&lt;p&gt;この記事では、僕が普段どんな風にコードレビューをしているのかをまとめてみました。&lt;/p&gt;

&lt;p&gt;全てのメンバーのコードをしっかりとレビューするのが理想ですが、レビューに使える時間は限られています。&lt;br&gt;
ですので、ジョインしたてのメンバーや影響範囲の大きい部分に修正が入っているコードは重点的にレビュー、そしてそれ以外の変更に関してはざっと確認して怪しそうなところを洗い出し、そこだけ集中的にレビューすることで、手持ちの時間を「レビューすべき変更」に効率的に使うようにしています。&lt;/p&gt;

&lt;p&gt;相互レビューを続けていれば全体のレベルが徐々に底上げされていくはずなので、それを信じて今後も相互レビューは継続していきます！&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>rablのテスト方法</title>
      <link>http://blog.all-in.xyz/2015/10/02/how-to-test-rabl</link>
      <pubDate>Fri, 02 Oct 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/10/02/how-to-test-rabl</guid>
      <description>&lt;p&gt;ビジネスバンクグループエンジニアの
&lt;a href=&quot;https://twitter.com/kurisankaku&quot;&gt;栗山 宗久&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;RailsでJson APIを定義する時にto_jsonやas_jsonで:onlyや:includeオプションを使ってフィールドを指定できます。&lt;br&gt;
ただ、これだとControllerやAPIを定義しているクラスに依存してしまい、また可読性もあまり良くありません。&lt;br&gt;
そこで、簡潔に構造を定義するためのrablを使用します。&lt;/p&gt;

&lt;p&gt;今回は、そのrablのテスト方法についてまとめます。&lt;br&gt;
　  &lt;/p&gt;

&lt;h2&gt;手順&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;テストデータのオブジェクトを生成する&lt;/li&gt;
&lt;li&gt;Rabl::Renderer#renderを使用し、テスト対象のrabl、生成したオブジェクトを指定し、jsonを取得する&lt;/li&gt;
&lt;li&gt;取得したjsonをJson#parseでHashにする&lt;/li&gt;
&lt;li&gt;想定するテストデータのハッシュ値とJson#parseで生成されたデータの整合性を確認する&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;　  &lt;/p&gt;

&lt;h2&gt;RABLの定義&lt;/h2&gt;

&lt;p&gt;例として次のようなRABLを作成するとします。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;#app/views/quizzes/show.rabl
object @quiz
attribute :title
attribute :content
node(:point) { |o| @level * o.base_point }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;このrablを使用して生成されるjsonは次のようになります。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{
  &amp;quot;title&amp;quot; : &amp;quot;Mame chishiki&amp;quot;,
  &amp;quot;content&amp;quot;: &amp;quot;Shigoto no gogen ha?&amp;quot;,
  &amp;quot;point&amp;quot;: 80
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;記述したrablのテストを行います。
json形式の場合、エラーの内容が判別しにくいので、jsonで生成されたデータをHash化して確認します。&lt;br&gt;
　  &lt;/p&gt;

&lt;h2&gt;Rabl::Renderer#render&lt;/h2&gt;

&lt;p&gt;Rabl::Rendererクラスを使用することで、テストを行うrablのjsonを生成することができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;# https://github.com/nesquena/rabl/lib/rabl/renderer.rb&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Public: Instantiate a new renderer&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# This is a standalone class used for rendering rabl templates&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# outside of a framework like Rails. You may want to use&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# this when using Rabl to render the request objects passed to&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# message queues.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Example:&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#   renderer = Rabl::Renderer.new(&amp;#39;template_name&amp;#39;, user, { :format =&amp;gt; &amp;#39;json&amp;#39;, :view_path =&amp;gt; &amp;#39;app/views&amp;#39; })&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#   renderer.render # =&amp;gt; &amp;#39;{&amp;quot;user&amp;quot;:{&amp;quot;name&amp;quot;: &amp;quot;ivan&amp;quot; }}&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;:format&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;:scope&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;:view_path&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;:template&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;vi&quot;&gt;@options&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@object&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;engine&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process_source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# Public: Actually render the template to the requested output format.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# - context_scope:&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#     Override the render context_scope to the &amp;#39;context_scope&amp;#39; object. Defaults to self.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# Returns: And object representing the tranformed object in the requested format.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;#   e.g. json, xml, bson, plist&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context_scope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;context_scope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:scope&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;set_object_instance_variable&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context_scope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;locals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}))&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;engine&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context_scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;initializeのparameterについては、下記のような内容を設定できます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;source ・・・ rablファイル名&lt;/li&gt;
&lt;li&gt;object ・・・ rablでパースするオブジェクト&lt;/li&gt;
&lt;li&gt;options ・・・ オプションを指定可能

&lt;ul&gt;
&lt;li&gt;format ・・・ フォーマットを指定&lt;/li&gt;
&lt;li&gt;scope ・・・ object以外のインスタンス変数を使用している際に利用&lt;/li&gt;
&lt;li&gt;view_path ・・・ rablファイルまでのパス&lt;/li&gt;
&lt;li&gt;template ・・・ テンプレート&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;　  &lt;/p&gt;

&lt;h2&gt;テスト&lt;/h2&gt;

&lt;p&gt;例に上げたapp/views/quizzes/show.rablのテストを書くと次のようになります。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# rablで生成したJsonをHash化するためのモジュール&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;RablSpecHelper&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;extend&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveSupport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Concern&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;render_as_hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;renderer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rabl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Renderer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;renderer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;symbolize_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;rails_helper&amp;quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;describe&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;show.rabl&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RablSpecHelper&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;subject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render_as_hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# インスタンス変数@levelに値を渡すためにscopeを使用&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance_variable_set&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:@level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;show&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;OpenStruct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Mame chishiki&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Shigoto no gogen ha?&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;base_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;view_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;app/views/quizzes&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:expected&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Mame chishiki&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Shigoto no gogen ha?&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;it&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_expected&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;　  &lt;/p&gt;

&lt;h2&gt;rablのテスト方法を調べてみて&lt;/h2&gt;

&lt;p&gt;あまり日本語の記事を見かけなかったので、最初インスタンス変数が入っている場合の綺麗なテスト方法が分かりませんでした。&lt;br&gt;
なので、本元のライブラリのテストを覗き、libを調べて作成しました。gemの場合は、そのプロジェクトのspecを見るのが一番理解が早いですね!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/nesquena/rabl&quot;&gt;nesquena/rabl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;　  &lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>(Rails) Modelクラスでの条件分岐</title>
      <link>http://blog.all-in.xyz/2015/09/26/conditional_branch_of_validation_in_rails_model</link>
      <pubDate>Sat, 26 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/26/conditional_branch_of_validation_in_rails_model</guid>
      <description>&lt;p&gt;ビジネスバンクグループ エンジニア の高橋 慶太です。&lt;/p&gt;

&lt;p&gt;今回は、RailsのModelクラス内で実施するバリデーションについて、ある条件の時だけバリデーションを行いたい場合の方法について書きたいと思います。&lt;/p&gt;

&lt;h2&gt;if、unless文&lt;/h2&gt;

&lt;p&gt;if、unless文を用いて、ある条件の場合のみバリデーションを実行する場合、以下のように記述します。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# name項目に値が入力されている場合のみ、8〜32桁の範囲内かどうかの入力チェックを行う。&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# if文で書く場合&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最小文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;name.present?&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最大文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;maximum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;name.present?&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# unless文で書く場合&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最小文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;name.blank?&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最大文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;maximum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;name.blank?&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# 下記のように、まとめて書くこともできます&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;with_options&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;:name.present?&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;maximum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;:on&lt;/h2&gt;

&lt;p&gt;１つのModelに対して複数の箇所で登録処理などを行っている場合に、
箇所によってバリデーションを行う／行わないを制御したい場合があります。&lt;br/&gt;
このような場合、:onを用いることで制御することができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SampleModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最大文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;maximum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:execute_validation&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 最小文字数&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:execute_validation&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SampleService&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_with_validation&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SampleModel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;test&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# saveメソッドの引数に「:execute_validation」を指定しているため、&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# modelクラスの「on: :execute_validation」指定されているバリデーションが実行されます&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:execute_validation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;（補足）RSpecを使ったテストの記述&lt;/h3&gt;

&lt;p&gt;:onの記述についてRSpecを使ってテストする場合、以下のように記述することでテストすることができます。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;n&quot;&gt;describe&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SampleModel&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;describe&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#validate&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# nameに33桁を指定&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;build&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:sample_model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;123456789012345678901234567890123&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;it&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;when name is longer than 32&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# errors_onメソッドの引数にcontextの指定をすることで:onのテストが可能&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors_on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:execute_validation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>From PHP to Ruby - Some resources to learn Ruby (on Rails)</title>
      <link>http://blog.all-in.xyz/2015/09/21/resources-to-learn-ruby-on-rails</link>
      <pubDate>Mon, 21 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/21/resources-to-learn-ruby-on-rails</guid>
      <description>&lt;p&gt;Hi!
I am &lt;a href=&quot;https://twitter.com/ohayostudio&quot;&gt;Jérôme Sadou&lt;/a&gt;, Software Engineer at Business Bank Group, Inc. working on the ALL-IN project.&lt;/p&gt;

&lt;p&gt;After more than 10 years working with PHP for my applications back-end, I made the jump to Ruby.
More precisely after using all this time, custom frameworks, Zend 1/2 or Symfony 2, joining Business Bank Group I started to work with Ruby on Rails framework.
This is actually one of the main reason I took this job as I wanted to learn something new (for me) and challenge myself. There are plenty of jobs in PHP (it runs about 80% of the web) and I could continue for a while just with it but I was feeling it was time to try something different and in depth. (I also did some projects using Node.js, a bit of Python and long long time ago Java).&lt;/p&gt;

&lt;p&gt;To prepare myself to join the company (I was freelancing for 5 years) I took a course on Udemy : &amp;quot;Getting started with Ruby on Rails&amp;quot; by Paul Krause. The course is a good introduction to Ruby and Rails. For a programmer beginner there&amp;#39;s quite enough to learn even in HTML5 and CSS3 towards the end of the course, for a more experienced developer in an other language like me, it was good enough to &amp;quot;hold my hand&amp;quot; for a start but then it was a bit slow. But I think it was a good idea to follow the course to get the basis right.&lt;/p&gt;

&lt;p&gt;After following 40% of the course I built a small app to test my knowledge, a simple API app with a front-end in AngularJS as it was the couple I was going to use the work on ALL-IN. 
Obviously building something is the best way to learn as you quickly encounter real world problems like : &amp;quot;how to upload pics to AWS through my API when using Heroku&amp;quot; for example. Just with something as simple as this kind of task, you learn a lot.
And it gave me a bit of confidence before to join the team.&lt;/p&gt;

&lt;p&gt;There are many ways to learn about Ruby and Ruby on Rails online. In Japan, books are also still very popular, there is a full range of Ruby (or any language) books published, nothing to compare with France for example. That surprised me 10 years ago and still impresses me now. As for me I mostly stick to online resources.&lt;/p&gt;

&lt;p&gt;So, on &lt;a href=&quot;https://www.udemy.com/courses/search/?ref=home&amp;amp;q=ruby&quot;&gt;Udemy&lt;/a&gt; only, you have a about 50 different courses to learn about Ruby ( / on Rails), it&amp;#39;s up to you to choose the one that will suit you the best depending on your background.&lt;/p&gt;

&lt;p&gt;Some other popular or interesting online resources to learn that were pointed at me :&lt;/p&gt;

&lt;p&gt;Complete Courses : &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ruby : Learn to program in Ruby, a flexible language used to create sites :
&lt;a href=&quot;https://www.codecademy.com/tracks/ruby&quot;&gt;https://www.codecademy.com/tracks/ruby&lt;/a&gt; &lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rails : 
&lt;a href=&quot;http://www.theodinproject.com/ruby-on-rails&quot;&gt;http://www.theodinproject.com/ruby-on-rails&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;More advanced :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Screencasts for intermediate Ruby on Rails developers : 
&lt;a href=&quot;https://gorails.com/&quot;&gt;https://gorails.com/&lt;/a&gt; &lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Knowing how to write good specs :  &amp;quot;{ rspec guidelines with ruby }&amp;quot; :
&lt;a href=&quot;http://betterspecs.org/&quot;&gt;http://betterspecs.org/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(This was the most difficult part for me to grasp when I joined the team)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You&amp;#39;re a Ruby developer, and you&amp;#39;re ready for more :
&lt;a href=&quot;http://www.rubytapas.com%5D&quot;&gt;http://www.rubytapas.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Learning Ruby on Rails was/is just one part of the things I had to do when joining the ALL-IN project, you can read about our stack in the previous articles (in Japanese, but Google Translate does a pretty good job now) written by our CTO, Takenaka San. You will see that there&amp;#39;s quite some material.&lt;/p&gt;

&lt;p&gt;Next time I will pick and share some interesting code snippets that I (or one of my colleagues) wrote during the development of ALL-IN.&lt;/p&gt;

&lt;p&gt;If you are up for some challenges in Tokyo or in Matsue (&amp;quot;Ruby City&amp;quot; in Shimane Prefecture), we are recruiting.
Apart from some experience in the web stack we are using or/and an ability to learn fast, speaking and reading a conversational Japanese is preferred.&lt;/p&gt;

&lt;p&gt;If you want to meet me, I&amp;#39;ll be at the Matsue Ruby Kaigi 07 on September 26th. [&lt;a href=&quot;http://www.theodinproject.com/ruby-on-rails&quot;&gt;http://matsue.rubyist.net/matrk07/#&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;よろしくお願いします！&lt;/p&gt;

&lt;p&gt;ジェローム　サドゥ&lt;/p&gt;

&lt;hr&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>僕たちの開発フロー</title>
      <link>http://blog.all-in.xyz/2015/09/09/development-flow</link>
      <pubDate>Wed, 09 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/09/development-flow</guid>
      <description>&lt;p&gt;ビジネスバンクグループ CTO の
&lt;a href=&quot;https://twitter.com/shoutakenaka&quot;&gt;@shoutakenaka&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;ALL-IN の開発プロジェクトを開始した時に
&lt;a href=&quot;https://guides.github.com/introduction/flow/&quot;&gt;GitHub Flow&lt;/a&gt;
を採用し、エンジニア1人体制で開発を進めていた時から
GitHub Flow でずっとやっていましたが、
その後メンバーが増えて規模や開発ステージが変わったので、
それに応じて開発フローも少しずつ調整してきました。&lt;/p&gt;

&lt;p&gt;今回は現時点で ALL-IN 開発チームがどのような開発フローを採用しているのかご紹介します。&lt;/p&gt;

&lt;h1&gt;大まかな流れ&lt;/h1&gt;

&lt;p&gt;もともと GitHub Flow を採用していましたが、規模に応じて調整してきた結果、
今こんな感じのフローになっています。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2015-09-09-development-flow/flow.png&quot; alt=&quot;Development Flow&quot;&gt;&lt;/p&gt;

&lt;h2&gt;通常の開発フロー&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;まずはプロダクトマネージャが &lt;a href=&quot;https://www.atlassian.com/ja/software/jira&quot;&gt;JIRA&lt;/a&gt;
でチケット登録。&lt;/li&gt;
&lt;li&gt;担当エンジニアは master ブランチから、feature ブランチを作成して開発、テスト。&lt;/li&gt;
&lt;li&gt;開発完了後、&lt;a href=&quot;https://www.atlassian.com/ja/software/crucible/overview&quot;&gt;Crucible&lt;/a&gt;
でレビューして、OK になったら master にマージ。&lt;/li&gt;
&lt;li&gt;定期的に master ブランチから deploy/staging ブランチにマージ。
deploy/staging ブランチのコードをステージングサーバーにデプロイ。&lt;/li&gt;
&lt;li&gt;ステージングサーバーで QA テスト実施。&lt;/li&gt;
&lt;li&gt;QA テストが OK だったら、deploy/staging ブランチを deploy/prerelease ブランチにマージ。
deploy/prerelease ブランチのコードをプレリリースサーバーにデプロイ。&lt;/li&gt;
&lt;li&gt;プレリリースサーバーで DB マイグレーションのテストと最終動作確認を実施。&lt;/li&gt;
&lt;li&gt;最終動作確認が OK だったら deploy/prerelease ブランチを deploy/production ブランチにマージ。
deploy/production ブランチのコードをプロダクションサーバーにデプロイ（リリース！）。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;こんな感じで、master から feature ブランチを作って開発。
QA テストを経由して、本番にデプロイ、という流れで作業しています。&lt;/p&gt;

&lt;p&gt;今のところ僕たちはサーバー環境として&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ステージングサーバー&lt;/strong&gt;: QA テストに使っている。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;プレリリースサーバー&lt;/strong&gt;: DB マイグレーションのテスト用。デプロイ前にプロダクションサーバーの
DB をこちらの DB に複製して、DB マイグレーション (Rails のマイグレーションスクリプトとか
古いデータの調整など) がうまくいくかどうか確認するのに使っている。
また、本番で障害が発生して緊急対応した時の動作確認もこのサーバーで行う。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;プロダクションサーバー&lt;/strong&gt;: 本番環境。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を持っていて、それぞれに対応する deploy ブランチを用意し、
deploy ブランチにマージしたら CI から自動デプロイされるようになっています。&lt;/p&gt;

&lt;h2&gt;バグ対応&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;QA テストで問題が見つかったら、QA 担当者が JIRA でチケット登録。&lt;/li&gt;
&lt;li&gt;担当エンジニアは deploy/staging ブランチから、bugfix ブランチを作成してバグ対応、テスト。&lt;/li&gt;
&lt;li&gt;バグ対応完了後、Crucible でレビューして、OK になったら deploy/staging ブランチにマージ。
ステージングサーバーにデプロイ。&lt;/li&gt;
&lt;li&gt;QA 担当者がステージングサーバーでバグ対応の結果を確認。&lt;/li&gt;
&lt;li&gt;OK だったら deploy/staging ブランチを master ブランチにマージして、
バグ修正分を master ブランチにも反映。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;QA テストでバグが見つかったら、QA 担当者にバグチケットを作ってもらって、
bugfix ブランチを作って対応しています。&lt;/p&gt;

&lt;p&gt;QA テスト中も新機能開発分は master にどんどんマージされているので、
bugfix ブランチは deploy/staging をベースに作成します。
ただ、そのままだと master にバグが残ったままになってしまうので、
対応完了後 deploy/staging を master にマージして、バグ対応分を master にも
反映させています。&lt;/p&gt;

&lt;h2&gt;緊急障害対応&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;本番環境で問題が見つかったら、カスタマーサポート担当者が JIRA チケット登録。&lt;/li&gt;
&lt;li&gt;担当エンジニアは deploy/prerelease ブランチから、hotfix ブランチを作成して障害対応、テスト。&lt;/li&gt;
&lt;li&gt;障害対応完了後、Crucible でレビューして、OK になったら deploy/prerelease ブランチにマージ。
プレリリースサーバーにデプロイ。&lt;/li&gt;
&lt;li&gt;QA 担当者がプレリリースサーバーで障害対応の結果を確認。&lt;/li&gt;
&lt;li&gt;OK だったら deploy/prerelease ブランチを deploy/production ブランチにマージして、
プロダクションサーバーにデプロイ。&lt;/li&gt;
&lt;li&gt;さらに、deploy/prerelease ブランチを master ブランチと deploy/staging ブランチにマージして、
障害対応分を各ブランチに反映。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;本番環境で障害が発生したら、bugfix ブランチを作って対応しています。&lt;/p&gt;

&lt;p&gt;対応完了後、プレリリースサーバーで確認後、プロダクションサーバーにデプロイするという流れです。
障害対応がひと段落したら、master と deploy/staging にも修正を反映させます。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;今のところ、こんなフローでうまく回っていますが、
チームの規模や開発のステージに応じて微調整は継続していかないといけないなぁ、と思っています。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>ALL-IN を支える技術 (開発環境編)</title>
      <link>http://blog.all-in.xyz/2015/09/06/our-engineers-are-supporetd-by</link>
      <pubDate>Sun, 06 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/06/our-engineers-are-supporetd-by</guid>
      <description>&lt;p&gt;ビジネスバンクグループ CTO の
&lt;a href=&quot;https://twitter.com/shoutakenaka&quot;&gt;@shoutakenaka&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;今回は、ALL-IN の開発に携わっているエンジニアが日々どんな
開発環境を利用しているのかご紹介します。&lt;/p&gt;

&lt;p&gt;今でこそビジネスバンクグループの CTO をやらせていただいていますが、
その前は某社で２年くらいエンジニア１人という体制で開発をしていて、
エンジニア間のコミュニケーションもマネジメントも全く必要ない環境にいたので、
そっち系のサービスやツールにはやや疎いところがありました。
後からジョインしてくれたメンバーの知恵を借りつつ、
今こんな環境で開発をやっています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://www.atlassian.com/ja/software/jira&quot;&gt;JIRA&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://www.atlassian.com/ja/software/confluence&quot;&gt;Confluence&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://www.atlassian.com/ja/&quot;&gt;Atlassian&lt;/a&gt; の製品です。
タスクやバグの管理に JIRA、ドキュメント管理に Confluence を使っています。&lt;/p&gt;

&lt;p&gt;以前 &lt;a href=&quot;http://www.microsoft.com/ja-jp&quot;&gt;Microsoft&lt;/a&gt; でエバンジェリストだった
&lt;a href=&quot;https://twitter.com/tnagasawa&quot;&gt;長沢さん&lt;/a&gt; が
今 Atlassian でエバンジェリストをなさっていて、
色々と Twitter に流してくださるのでどんな製品かおおよそ知ってはいましたが、
エンジニアメンバーの勧めで今回初めて使ってみました。
かなり使い勝手が良く、エンジニア間のコミュニケーションがスムーズに
なっています。&lt;/p&gt;

&lt;p&gt;でも、まだまだ使いこなせていないので、
一度長沢さんに御指南いただきたい、とか思ったりしています :D&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://www.atlassian.com/ja/software/crucible/overview&quot;&gt;Crucible&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;これも Atlassian の製品で、コードレビューをサポートしてくれるサービスです。&lt;/p&gt;

&lt;p&gt;Crucible を採用する前は GitHub のプルリクをレビューしていましたが、
やりにくさを感じていました。
縦スクロールの画面なので変更がたくさん含まれていると見るのが大変とか、
やりとりを繰り返していると元々どういう実装になっていて何故指摘をしたか
よくわからなくなるとか。
原因はプルリクの粒度の問題が大きいのですが、
エンジニアにプルリクの粒度まで細かく強制したくなかったので、
その辺りが解決できそうな Crucible を採用しました。&lt;/p&gt;

&lt;p&gt;結果的には、Crucible にしてからレビューがかなりやりやすくなりました。
master ブランチにマージする前のコードレビューを必須にしていて、
全てのコードをレビューしているので、
Crucible には非常に助けられています :D&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://slack.com/&quot;&gt;Slack&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;メンバー間のコミュニケーションに使っています。&lt;/p&gt;

&lt;p&gt;Slack を採用した理由は、&lt;a href=&quot;http://rebuild.fm/&quot;&gt;Rebuild.fm&lt;/a&gt; や、
&lt;a href=&quot;http://backspace.fm/&quot;&gt;Backspace.fm&lt;/a&gt; をはじめ、情報収集に使用している
複数のチャネルから Slack いいという噂が流れてきたからです。
で、使ってみたら本当によかったのでそのまま使い続けています :)&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;ソース管理は GitHub です。
プライベートプロジェクトのホスティングでもお世話になっています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://www.vagrantup.com/&quot;&gt;Vagrant&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;弊社では「OS もエディタも好きなもの (各自が最も生産性を発揮できるもの) を使っていいよ」
というルールにしています。&lt;/p&gt;

&lt;p&gt;ただ、環境の不一致による再現困難なバグはあるあるなので、
「開発は何使ってもいいけど動作確認は Vagrant の標準環境でやってね」ということにしています。&lt;/p&gt;

&lt;p&gt;Vagrant で動かしている VM は サーバーと全く同じ OS で、
かつ Chef でサーバーに入れているのと同じパッケージを入れています。
これによって、開発者間や、開発環境と運用環境間で環境が統一され、
環境依存のバグが発生しにくい体制になっています
(これまでのところ、環境依存のバグは出たことがないです)。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://www.chef.io/chef/&quot;&gt;Chef&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;開発環境とサーバーの構築、設定変更に使っています。&lt;/p&gt;

&lt;p&gt;以前からサーバーの設定をバージョン管理できないのが課題だと思っていたのですが、
前職の時に Chef を使って以来、サーバー構築には必ず何らかのプロビジョニングツールを
使うようになりました。&lt;/p&gt;

&lt;p&gt;設定がバージョン管理できる他にも&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;全サーバーに同じ操作を自動適用できて人的ミスが起こらない&lt;/li&gt;
&lt;li&gt;最新のサーバー設定が「レシピ」としてバージョン管理されているので、ドキュメントが最小限で済む&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;といったメリットがあって、プロビジョニングツールを使わない手はないと思っています。&lt;/p&gt;

&lt;p&gt;まだサーバー台数が少ないので Chef Server は使っていません。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/bbatsov/rubocop&quot;&gt;Rubocop&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://jshint.com/&quot;&gt;JSHint&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;RuboCop は Ruby コードの静的解析ツールです。&lt;/p&gt;

&lt;p&gt;前述のように全ての変更は必ずレビューを通すようにしていますが、
コーディングスタイル関連の指摘は、される側もイラっとするし、
する側もコードが見にくくて本来レビューすべき箇所に集中できないので、
スタイルチェックはツールでやってもらうようにしています。
エディタによってはエクステンションなどで
保存時に自動チェックを走らせることもできるので、
実行のコストはかなり低く押さえることができます。&lt;/p&gt;

&lt;p&gt;JavaScript も Ruby 同様、コーディングスタイルを JSHint で自動チェックしています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/colszowka/simplecov&quot;&gt;SimpleCov&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;カバレッジ計測に使っています。&lt;/p&gt;

&lt;p&gt;開発時やコードレビュー時にテスト漏れをチェックするのに使っています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://circleci.com/&quot;&gt;CircleCI&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;CI には CircleCI を利用しています。&lt;/p&gt;

&lt;p&gt;GitHub にコードをプッシュすると、おもむろに CircleCI でビルドが走り、
RSpec でのテスト実行とカバレッジ計測をやってくれます。&lt;/p&gt;

&lt;p&gt;＋αで、デプロイ用のブランチにコードをプッシュすると、
テスト後に Capistrano でサーバーにデプロイまでやってくれるようになっています。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>ALL-IN を支える技術</title>
      <link>http://blog.all-in.xyz/2015/09/03/all-in-is-supported-by</link>
      <pubDate>Thu, 03 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/03/all-in-is-supported-by</guid>
      <description>&lt;p&gt;ビジネスバンクグループ CTO の
&lt;a href=&quot;https://twitter.com/shoutakenaka&quot;&gt;@shoutakenaka&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;「何で開発してるの？」と聞かれて、細かい説明をする時間がなさそうな時は
単に「Rails」と答えているし、
ステークホルダにも「Ruby on Railsというのを使って開発しています！」
としか言っていませんが、
実際には色々なライブラリやプロダクトの力を借りて、ALL-IN は作られています。&lt;/p&gt;

&lt;p&gt;今回は、そんなALL-INの開発を支えているテクノロジーについてご紹介します。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;http://rubyonrails.org/&quot;&gt;Ruby on Rails&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;ALL-IN のバックエンドは Ruby on Rails で開発しています。&lt;/p&gt;

&lt;p&gt;ゼロから開発をスタートした ALL-IN の最初の課題が、コアの部分を何で開発するか、
ということでした。
色々と悩みましたが、開発スピードのプライオリティがかなり高かったので、
僕が使える道具の中で一番スタートダッシュに向いている RoR を選択しました。&lt;/p&gt;

&lt;p&gt;この辺りの決断や、その後のアーキテクチャの変遷については、いずれ別の機会に
まとめてみようと思います。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://angularjs.org/&quot;&gt;AngularJS&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;ALL-IN のフロントエンドは AngularJS ベースで実装しています。&lt;/p&gt;

&lt;p&gt;元々フロントはあまり厚くしないで、できる限り RoR の寄せる方針で設計していたのですが、
要件をまとめていく中でバックエンドには API 提供の役割を担わせて、フロントで結構がっつり
実装した方がよさそうだと判断し、AngularJS を採用しました。&lt;/p&gt;

&lt;p&gt;ローカルのリポジトリを見たら、&lt;a href=&quot;http://backbonejs.org/&quot;&gt;Backbone.js&lt;/a&gt; とか
&lt;a href=&quot;http://knockoutjs.com/&quot;&gt;Knockout.js&lt;/a&gt; など、いくつか試したブランチがあって、
何を採用しようか悩んでいた形跡がありますw&lt;/p&gt;

&lt;p&gt;結局、フルスタックなので色々組み合わせなくても一通り必要な機能が揃うことや、
書き方の縛りが割と強く、コーディングスタイルガイドでルールを
たくさん作らなくてもある程度書き方が統一できそう、という辺りを重視して
AngularJS の採用を決断しました。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/ruby-grape/grape&quot;&gt;Grape&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;RoR の部分は一部の例外を除き、簡単な HTML を返す役割と、
JSON のやり取りをする Web API の役割をになっています。&lt;/p&gt;

&lt;p&gt;その Web API の部分の構築に Grape を使っています。&lt;/p&gt;

&lt;p&gt;前に RoR の素のコントローラで Web API を実装したことがありましたが、
コントローラで頑張るのに比べると、
API 実装のためのシンプルな DSL を提供してくれて作りやすいです。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/nesquena/rabl&quot;&gt;Rabl&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;ActiveRecord のデータを JSON に変換するのに使っています。&lt;/p&gt;

&lt;p&gt;以前のプロジェクトで Web API を作った際、JSON への変換 (アプリ側では Hash への変換ですが)
を ActiveRecord のメソッドとして実装していたことがありましたが、
ビジネスロジックと混ざりモデルがfatになってしまうという課題があったので、
今回 Grape とセットで採用しました。&lt;/p&gt;

&lt;p&gt;悪くはないですが、例えばモデルのステータスによって
JSON フォーマットを少し変更したい場合など、
Rabl テンプレートの中で分岐をして出しわけ処理をやっているのですが、
こういう条件付きのレンダリング処理をやるところが
少しわかりにくい実装になるなぁ、というのが悩みです。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/thinreports&quot;&gt;Thinreports&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;帳票作成に使っています。&lt;/p&gt;

&lt;p&gt;昔、猛烈に使いにくい帳票ツールに悩まされたことがあって、
それ以来できるだけ帳票ツールは避けてきたのですが
(PDF生成が必要になったら &lt;a href=&quot;http://wkhtmltopdf.org/&quot;&gt;wkhtmltopdf&lt;/a&gt; を使ってた)、
今回のシステムでは wkhtmltopdf だと表現するのが厳しい
レイアウトの帳票がいくつかあったので、
初めて Thinreports を採用しました。&lt;/p&gt;

&lt;p&gt;Chrome アプリとして提供されているデザイナ (前はスタンドアロンのアプリだったのですが
いつのまにか Chrome アプリ化されてました) が使いやすく、アプリ側も Hash で
埋め込むデータを用意するだけなので学習コストが低くていい感じです。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/resque/resque&quot;&gt;Resque&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;オンラインバッチ処理に使っています。&lt;/p&gt;

&lt;p&gt;処理をキューイングして、後でバックグラウンドで走らせることができるライブラリで、
キューを定期的にチェックして、ジョブがキューイングされていたらすぐに実行してくれます。&lt;/p&gt;

&lt;p&gt;メール送信や帳票生成の処理で活躍しています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;https://github.com/javan/whenever&quot;&gt;Whenever&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;バッチ処理のスケジューリングに使っています。&lt;/p&gt;

&lt;p&gt;わかりやすい表記法で cron の設定ができるようになります。
決まった時刻に実行する必要のあるバッチ処理は Whenever、
キューイングしたらできるだけすぐに実行してほしいオンラインバッチ処理は Resque、
という感じで使い分けています。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;http://rspec.info/&quot;&gt;RSpec&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;バックエンドの単体テストに使っています。&lt;/p&gt;

&lt;p&gt;昔 .NET の開発をメインでやっていた時は xUnit (Visual Studio Unit Test とか
NUnit) を使っていたのですが、Ruby を使い始めた時何気なく触ってみた RSpec
がすごく気にいってしまい、それ以来ずっとRSpec を使っています。&lt;/p&gt;

&lt;p&gt;そんなわけで、特に他の選択肢は考えず、このプロジェクトでも RSpec を採用しました。&lt;/p&gt;

&lt;p&gt;Shared Example や Shared Context、Context がネストできるあたりがお気に入りです
(xUnit を使っていた時なんか書きにくいなぁと思っていた部分が解消されました)。&lt;/p&gt;

&lt;h1&gt;&lt;a href=&quot;http://capistranorb.com/&quot;&gt;Capistrano&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;サーバーへのデプロイに使っています。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://amzn.to/1M2YR4Y&quot;&gt;Rails デプロイ&lt;/a&gt; を読んで使い方を知ってから、
Rails でプロダクトを作る時は必ずセットで Capistrano を使っています。&lt;/p&gt;

&lt;p&gt;コードの更新、DB マイグレーション、アプリケーションサーバーや Resque の再起動、
crontab の書き換え (Whenever の設定反映) などを簡単な設定だけでできるので、
とても重宝しています。&lt;/p&gt;

&lt;h1&gt;エンジニア募集中！&lt;/h1&gt;

&lt;p&gt;ビジネスバンクグループではエンジニアを募集中しています。&lt;/p&gt;

&lt;p&gt;弊社が採用しているテクノロジや開発環境に興味を持った方は、
&lt;a href=&quot;http://bbank.jp/allin/recruit/&quot;&gt;ここから是非エントリー&lt;/a&gt; を！&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>技術ブログ始めます</title>
      <link>http://blog.all-in.xyz/2015/09/01/first-post</link>
      <pubDate>Tue, 01 Sep 2015 00:00:00 +0900</pubDate>
      <author></author>
      <guid>http://blog.all-in.xyz/2015/09/01/first-post</guid>
      <description>&lt;p&gt;ビジネスバンクグループ CTO の
&lt;a href=&quot;https://twitter.com/shoutakenaka&quot;&gt;@shoutakenaka&lt;/a&gt; です。&lt;/p&gt;

&lt;p&gt;ALL-IN の開発を始めてから約1年。&lt;/p&gt;

&lt;p&gt;元々開発会社ではなく、エンジニア不在の状態から始まったプロジェクトでしたが、今ではメンバーも増え、みんなの頑張りでようやくリリースまでこぎつ
けることができました。         &lt;/p&gt;

&lt;p&gt;やるべきこと、やりたいことはまだまだたくさんありますが、とりあえず一区切り。&lt;/p&gt;

&lt;p&gt;これを機に、ALL-IN の開発に携わっているメンバーで、技術ブログを立ち上げようと思います。&lt;/p&gt;

&lt;p&gt;エンジニアたちにとっては、文章にまとめてアウトプットすることで、自分の考えや経験を整理することができる。
そして読者の皆さんにとっては、ビジネスバンクのエンジニアたちがどんなことを考え、どんな環境でどんなものを開発しているのか知ることができる。
そんなブログにしていきます！！ &lt;/p&gt;
</description>
    </item>
    
    

  </channel> 
</rss>